<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=0.5" />
  <meta name="description" content="Web site created using create-react-app" />
  <!-- <meta name="aplus-vt-cfg-url" content="https://alidt.alicdn.com/alilog/vt/web/8noknyd7kscbd711r8ap23ak/65572203159703.json"> -->
  <!-- <meta name="aplus-vt-cfg-url" content="https://alidt.alicdn.com/alilog/vt/web/8noknyd7kscbd711r8ap23ak/66502205163613.json"> -->
  <!-- <meta name="aplus-heatmap-enabled" content="true" />
  <meta name="aplus-rate-ahot" content="1"/> -->
  <!-- <meta name="aplus-vt-cfg-url" content="https://alidt.alicdn.com/alilog/vtdaily/web/0kowetdn0lepln4575kl3ruj/13852202105182.json"> -->
  <title>React App</title>
  
  <script charset="UTF-8" id="testsdk">
    (function(w, d, s, q, i) {
      w[q] = w[q] || [];
      var f = d.getElementsByTagName(s)[0],j = d.createElement(s);
      j.async = true;
      j.id = 'beacon-aplus';
       j.src = "https://o.alicdn.com/QTSDK/quicktracking-sdk/qt_web.umd.js";
      f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'aplus_queue', '');

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-waiting', 'MAN']
    // });

    //假设 存在 三个页面
    //http://localhost:5900?search=abc  //自动pv 被过滤
    //http://localhost:5900#activity    //自动pv 被过滤
    //http://localhost:5900#testpage1   //自动pv 不会过滤
    //原理：依赖子字符串匹配
    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-skip-apv-rules', ['sea', 'acti']]
    // });
    
    aplus_queue.push({
      action: 'aplus.setMetaInfo',
      arguments: ['DEBUG', true]
    })

    aplus_queue.push({
      action: 'aplus.setMetaInfo',
      arguments: ['appKey', 'test_appkey'] //钰昭组织 h5_demo
    });

    aplus_queue.push({
      action: 'aplus.setMetaInfo',
      arguments: ['trackDomain', 'https://daily1-qlc.aplus.emas-poc.com']
    });



    // aplus_queue.push({
    //   action: "aplus.setMetaInfo",
    //   arguments: ['aplus-jsbridge-only', true]
    // })

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-rhost-g', 'aplus2-web-api.emas-poc.com']
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['_anony_id', 'test_oid']
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['openid', 'test_open_id']
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['_user_id', 'test_user_id']
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['_user_nick', 'test_user_nick']
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['globalproperty', {
    //     b: null
    //   }]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-disable-apv', true]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-autotrack-config', {
    //     collect_tags: {
    //       li: true,
    //       img: true,
    //       svg: true,
    //       div: true,
    //       span: true,
    //       p: true,
    //       form: true
    //     },
    //     collect_input: true,
    //     // element_capture_enable: true
    //   }]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-autotrack-enabled', true]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-heatmap-enabled', false]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-pagename', "test_pagename_meta"]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['pageConfig', {
    //     // hashMode: true,
    //     '#/solutionsCenter': {
    //       pageName: 'hash_home_page_test',
    //       regRule: /#\/solutionsCenter\/solutionList/,
    //       skipMe: true
    //     },
    //     '/activity': {
    //       pageName: 'activity_page_test',
    //       skipMe: true
    //     },
    //     '#/testother': {
    //       pageName: 'hash_home_page_test',
    //       regRule: /#\/solutionsCenter\/solutionList/,
    //       skipMe: true
    //     },
    //     '/': {
    //       pageName: 'test_home_1111',
    //       skipMe: true
    //     },
    //     '/autotrack': {
    //       pageName: 'autotrack_page_test',
    //     }
    //   }]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-auto-clk', [{
    //     cssSelector: '.autotrack_clk_web',
    //     logkey: 'autotrack_clk_web',
    //     // props: ['data-pagename', 'data-b', "data-abc", "data-ddddd"]
    //   }]]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-auto-exp', [{
    //     cssSelector: '.autotrack_exp_web',
    //     logkey: 'autotrack_exp_web',
    //     // props: ['data-a', "data-b"]
    //   }]]
    // });

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-auto-clk-userfn', function(e, selector) {       
    //     if (selector.indexOf('autotrack_clk_web') != -1) {
    //       var dataset = e.dataset;
    //       var obj = {};
    //       obj.itemID = dataset.itemid;
    //       obj.itemName = dataset.itemname;
    //       obj.itemZoon = dataset.itemzoon;
    //       obj.promotionInformation = dataset.promotioninformation;
    //       obj.pageName = dataset.pagename;          
    //       return {
    //         userdata: obj
    //       };
    //     }
    //   }]
    // })

    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-auto-exp-userfn', function(e, selector) {
    //     if (selector.indexOf('autotrack_exp_web') != -1) {
    //       var dataset = e.dataset;
    //       var obj = {};
    //       obj.itemID = dataset.itemid;
    //       obj.itemName = dataset.itemname;
    //       obj.itemZoon = dataset.itemzoon;
    //       obj.promotionInformation = dataset.promotioninformation;
    //       obj.pageName = dataset.pagename;          
    //       return {
    //         userdata: obj
    //       };
    //     }
    //   }]
    // })


    // window.onload = function(){
    //   var iframe2 = document.getElementById('iframe2');

    //   aplus_queue.push({
    //     action: 'aplus.aplus_pubsub.subscribe',
    //     arguments: ['mw_change_pv', function (content) {
    //       console.log('yz-----status pv', content);

    //       iframe2.contentWindow.postMessage({
    //         sender: 'pv',
    //       }, '*');
    //     }]
    //   })

    //   aplus_queue.push({
    //     action: 'aplus.aplus_pubsub.subscribe',
    //     arguments: ['mw_change_hjlj', function (content) {
    //       console.log('yz-----status hjlj', content);
    //       iframe2.contentWindow.postMessage({
    //         sender: 'hjlj',
    //       }, '*');
    //     }]
    //   })
    // }


    // aplus_queue.push({
    //   action: 'aplus.setMetaInfo',
    //   arguments: ['aplus-vt-cfg-url', '<已发布的配置CDN-JSON地址>']
    // });
  </script>
  <script>
    function push(action, args) {
      window.aplus_queue.push({
        action: action,
        arguments: args
      });
    };

    function testClk() {
      push('aplus.record', ['test_clk', 'CLK', {a:1 ,b: 2}])
    }

    function sendPV(args)  {
      push('aplus.sendPV', [{is_auto:false}, {ts:111}]);
    };
  </script>
</head>

<body>
  <div id="root" >
    <div name="代码埋点">
      <br />
      <br />
      <br />
      <br />
      <br />
      <button onclick="testClk()">发送事件</button>
      <button onclick="sendPV()">发送PV</button>
    </div>
  </div>
</body>

</html>