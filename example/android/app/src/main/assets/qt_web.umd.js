/**!
   * qt_web_v2.1.15
   * generated by QuickTracking
   * 2024-01-31 20:44:37
  */
e=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function t(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?e(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(e,n(o.key),o)}}function i(e,t,n){t&&r(e.prototype,t);n&&r(e,n);Object.defineProperty(e,"prototype",{writable:!1});return e}function s(e,t,a){(t=n(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e}function c(e,t){if(p(e)&&void 0===e.length)for(var n in e)e.hasOwnProperty(n)&&t(n,e[n],e);else{var a,o=e.length;for(a=0;a<o&&"break"!==t(e[a],a);a++);}}function u(e){return Array.isArray?Array.isArray(e):/Array/.test(Object.prototype.toString.call(e))}var l={isArray:u,indexOf:function(e,t){var n=-1;try{n=e.indexOf(t)}catch(o){for(var a=0;a<e.length;a++)e[a]===t&&(n=a)}finally{return n}},itemMatch:function(e,t){var n=!1;try{if(!this.isArray(e))return n;n=e.some((function(e){return e&&e.length>0&&-1!==t.indexOf(e)}))}catch(o){for(var a=0;a<e.length;a++)if(-1!==t.indexOf(e[a])){n=!0;break}}return n},find:function(e,t){try{return e.find(t)}catch(a){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},flat:function e(t){var n=[];if(u(t))for(var a=0;a<t.length;a++){var o=t[a];if(u(o)){t[a]=e(o);n=n.concat(t[a])}else n.push(o)}return n},assign:f,some:function(e,t){var n,a=e.length;for(n=0;n<a;n++)if(t(e[n]))return!0;return!1},each:c};function f(e,t){return"function"!=typeof Object.assign?function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!==a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}(e,t):Object.assign({},e,t)}function p(e){if("object"!==a(e)||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function g(e,t){if(Object&&Object.keys)for(var n=Object.keys(e),a=n.length,o=0;o<a;o++){var r=n[o];t(r,e[r])}else for(var i in e)t(i,e[i])}var d={isObject:p,assign:f,cloneDeep:function e(t){var n,o=Array.isArray(t)?[]:{};if("object"===a(t)){if(JSON&&JSON.parse){n=JSON.stringify(t);o=JSON.parse(n)}else for(var r in t)o[r]="object"===a(t[r])?e(t[r]):t[r];return o}},isEmptyObject:function(e){try{if(!e)return!0;if("function"==typeof Object.keys&&0===Object.keys(e).length)return!0;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}catch(e){return!1}},each:c,eachMap:g,deleteKeys:function(e,t){c(t,(function(t){delete e[t]}));return e}},h={stringfy:function(e){if(e)try{return JSON.stringify(e)}catch(e){}return""},parse:function(e){if(e)try{return JSON.parse(e)}catch(e){}return null},jsonStr2json:function(e){if(!e||"string"!=typeof e)return{};for(var t=e.replace(/['"{}]+/g,"").split(","),n=[],a=0;a<t.length;a++)n.push(t[a].split(":"));return m(n)}};function _(e){return"function"==typeof e}function m(e){var t,n,a,o={},r=e.length;for(a=0;a<r;a++){t=e[a][0]&&e[a][0].trim();n=e[a][1];o[t]=n}return o}function v(e){if("object"===a(e))return e;var t={};if(!e||"string"!=typeof e)return t;for(var n=e.split("&"),o=0;o<n.length;o++){var r=n[o],i=r.indexOf("="),s=r.split("="),c=r.length;if(2===s.length)t[s[0]]=s[1]||"";else if(i>0){var u=r.slice(0,i),l=r.slice(i+1,c)||"";t[u]=l}else t[s[0]]=""}return t}var y="::-plain-::";function b(e,t){var n,o,r,i=[];for(n in e)if(n&&e.hasOwnProperty(n)){r="object"===a(e[n])?o=""+this.obj2queryStr(e[n]):n+"="+(o=""+e[n]);t?i.push(r):i.push(0===n.indexOf(y)?o:r)}return i.join("&")}function A(e){for(var t,n=e.split("&"),a=0,o=n.length,r=[];a<o;a++){t=n[a].split("=");r.push([t.shift(),t.join("=")])}return r}function S(){var e=navigator?navigator.userAgent:"",t=/AliApp|Yunos|cyclone/i.test(e),n=navigator&&(("MacIntel"===navigator.platform||e.includes("Macintosh"))&&navigator.maxTouchPoints>1||!!e.match(/(iPad).*OS\s([\d_]+)/)),a=/iPhone|iPod/i.test(e)||n,o=/Android/i.test(e),r=/Windows Phone/i.test(e)||/IEMobile/i.test(e)||/WPDesktop/i.test(e),i=/BlackBerry/i.test(e),s=/Opera Mini/i.test(e);return t||a||o||r||i||s}var E={isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isStartWith:function(e,t){return!(!e||!t||0===t.length||t.length>e.length)&&0===e.indexOf(t)},isEndWith:function(e,t){if(String.prototype.endsWith)return e.endsWith(t);var n=e.length,a=t.length;return n>=a&&e.substring(n-a)===t},isContain:function(e,t){return e.indexOf(t)>-1},getRandomStr:function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a=0;a<Number(e);a++)t+=n[Math.round(Math.random()*(n.length-1))];return t},trim:function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},query2obj:v},w={query2obj:v,arr2obj:m,arr2queryStr:function(e,t){var n,a,o,r=[],i=e.length;for(o=0;o<i;o++){n=e[o][0];a=e[o][1];var s=0===n.indexOf(y),c=s||t?a:encodeURIComponent(a);r.push(s?c:n+"="+c)}return r.join("&")},obj2queryStr:b},T=function(){var e=null,t=!1,n="";function a(){this.setDebug=function(e,a){t=e;n=a?"[APLUS] -- ":"[QT] -- "};this.i=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.info.apply(console,arguments)}catch(e){}};this.e=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.error.apply(console,arguments)}catch(e){}};this.w=function(){if(t)try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.warn.apply(console,arguments)}catch(e){}};this.v=function(){try{"string"==typeof arguments[0]&&(arguments[0]=n+arguments[0]);console.warn.apply(console,arguments)}catch(e){}};this.tip_w=function(e){try{console.log("%c "+n+e,"background:red; padding: 4px; padding-right: 8px; border-radius: 4px; color: #fff;")}catch(e){}};this.repeat=function(e){for(var t=e;t.length<86;)t+=e;return t}}return function(){null===e&&(e=new a);return e}}();function P(){}P.prototype.extend=function(){};P.prototype.create=function(){};P.extend=function(e){return this.prototype.extend.call(this,e)};P.prototype.create=function(e){var t=new this;for(var n in e)t[n]=e[n];return t};P.prototype.extend=function(e){var t=function(){};try{_(Object.create)||(Object.create=function(e){function t(){}t.prototype=e;return new t});t.prototype=Object.create(this.prototype);for(var n in e)t.prototype[n]=e[n];t.prototype.constructor=t;t.extend=t.prototype.extend;t.create=t.prototype.create}catch(e){T&&T().w(e)}finally{return t}};var C,I=P.extend({create:function(e,t){var n=t.apiName,a=t.queueName,o=new this;o._sdkApiName=n;o._sdkQueueName=a;e[n]=e[n]||(e[n]={});e[a]=e[a]||(e[a]=[]);o.ctx=e;return o},getSdkApiName:function(){return this._sdkApiName},getSdkQueueName:function(){return this._sdkQueueName},setContextValue:function(e,t){this.ctx[this._sdkApiName]&&(this.ctx[this._sdkApiName][e]=t)},getContextValue:function(e){var t;this.ctx[this._sdkApiName]&&(t=this.ctx[this._sdkApiName][e]);!t&&this.ctx.goldlog&&(t=this.ctx.goldlog[e]);return t}});function k(){return C}function O(){return k().getSdkApiName()}function N(){return k().getSdkQueueName()}function M(e){return k().ctx[e]}function x(e){return k().getContextValue(e)}function R(e,t){k().setContextValue(e,t)}var L="function",D=function(){var e=M(O())[O()+"_pubsub"]||{};return a(e.publish)===L?e:""};function U(e){var t=D();t&&a(t.publish)===L&&t.publish.apply(t,e)}function j(e){var t=D();t&&a(t.cachePubs)===L&&t.cachePubs.apply(t,e)}function B(e,t){var n=D();n&&a(n.subscribe)===L&&n.subscribe(e,t)}var V="mw_change",G="MetaInfo",F="append".concat(G),H="set".concat(G),W="_pubsub",K="2101",z="2201",q="19999",Y="aplus",Q={PAGE_ENTER:"PAGE_ENTER",CURRENT_PAGE_CONFIG:"CURRENT_PAGE_CONFIG",_ANONY_ID:"_anony_id",_DEV_ID:"_dev_id",_CNA:"cna",_browerFP:"_abfpc",_USER_ID:"_user_id",OTHER:q,UNSUBSCRIBE:"".concat(Y,".").concat(Y).concat(W,".unsubscribe"),SUBSCRIBE:"".concat(Y,".").concat(Y).concat(W,".subscribe"),PUBLISH:"".concat(Y,".").concat(Y).concat(W,".publish"),CACHE_PUBS:"".concat(Y,".").concat(Y).concat(W,".cachePubs"),SDK_READY:"".concat(Y,"Ready"),SDK_PUB:"".concat(Y).concat(W),COMPLETE:"complete",PV_CODE:"2001",EXP_CODE:z,CLK_CODE:K,OTHER_CODE:q,CLK:"CLK",EXP:"EXP",SPM_CNT:"spm-cnt",SPM_URL:"spm-url",SPM_PRE:"spm-pre",MW_CHANGE_PV:"".concat(V,"_pv"),MW_CHANGE_HJLJ:"".concat(V,"_hjlj"),HTTP:"".concat("http",":"),HTTPS:"https:",APPEND_META_INFO:F,SET_META_INFO:H,SDK_APPEND_META_INFO:"".concat(Y,".").concat(F),SDK_SET_META_INFO:"".concat(Y,".").concat(H),PVID:"pvid",WEB_PC_PV_SUFFIX:"v.gif",WEB_WAP_PV_SUFFIX:"m.gif",NATIVE_TRANSP_READY:"".concat(Y,"NativeTranspReady")},$=["send","enter","sendPV","record","combineRecord","recordUdata","requestVTConfig","requestRemoteConfig","setPageSPM","setMetaInfo","appendMetaInfo","updatePageProperties","updateNextPageProperties","updatePageUtparam","updateNextPageUtparam","pageAppear","pageDisappear","skipPage","updateSessionProperties","getPageSpmUrl","getPageSpmPre","setPageName","getElementSPM","recordAppLink","onPageShow","onPageHide","reportUserInfo"],J={EXP:z,IMPEXP:"2202",CLK:K,OTHER:q,SHOW:"1023",H_OR_U:"1010"};t(t({},{ekvs:"e",active_user:"active_user"}),{},{sessions:"sn"});var X={sdk_type:"sdt",device_model:"dm",language:"lang",device_type:"dt",os_version:"ov",appkey:"ak",sdk_version:"sv",resolution:"rl",pixel_ratio:"pr",_id:"id",id_type:"it",id_tracking:"itr"};t(t({},X),{},{imprint:"imp",debugId:"dk"});t(t({},X),{},{access:"ac",access_subtype:"acs",device_manufacturer:"dmf",device_name:"dn",platform_version:"pv",font_size_setting:"fss",device_manuid:"did",platform_sdk_version:"psv",device_brand:"db",imprint:"imp",miniappDebugId:"dk"});var Z={APLUS:Y,APPKEY:"appKey",APLUS_PV_DOMAIN:"aplus-rhost-v",APLUS_EKV_DOMAIN:"aplus-rhost-g",SESSION_INTERVAL:3e4,PAGE_SCROLL_DURATION:4e3,SESSION_PAUSE_TIME:"session_pause_time",IMPRINT:"imprint",CURRENT_SESSION:"current_session",MAX_EVENTID_LENGTH:128,MAX_PROPERTY_KEY_LENGTH:256,MAX_PROPERTY_KEYS_COUNT:100,FAILED_REQUESTS:"failed_requests",REQUESTS:"requests",SHARES:"shares",EKVS:"ekvs",EVENT_MAX_COUNT:1e4,MEMORY_MAX_COUNT:1,MAX_QUEUE_COUNT:1,EVENT_SEND_DEFAULT_INTERVAL:3e3,PAGE_START:"$$_page_start",PAGE_END:"$$_page_end",APP_START:"$$_app_start",APP_END:"$$_app_end",USER_PROFILE:"$$_user_profile",SHARE_CACHE_INTERVAL:18e5,GLOBAL_PROPERTY:"globalproperty",JSBRIDGE_ONLY:"aplus-jsbridge-only",JSBRIDGE_AGENT:"Umeng4Aplus",APLUS_SKIP_APV_RULES:"aplus-skip-apv-rules",APLUS_IMPRINT_VERSION:"APLUS_IMPRINT_VERSION",APLUS_REMOTE_CONFIG:"APLUS_REMOTE_CONFIG",WEB_EVENT_SUFFIX:"/web_logs",PAGE_LEAVE:"$$_page_leave",PAGE_STAY:"$$_page_stay",APLUS_AUTOTRACK_ENABLED:"aplus-autotrack-enabled",APLUS_AUTOTRACK_ENABLED_REMOTE:"apus-autotrack-enabled-remote",APLUS_AUTOTRACK_CONFIG:"aplus-autotrack-config",APLUS_AUTOTRACK_CONFIG_REMOTE:"aplus-autotrack-config-remote",APLUS_DISABLE_AUTOEVENT:"aplus-disable-autoevent",APLUS_DISABLE_AUTOEVENT_REMOTE:"aplus-disable-autoevent",APLUS_DISABLE_AUTOPV:"aplus-disable-apv",APLUS_DISABLE_AUTOPV_REMOTE:"aplus-disable-apv-remote",APLUS_EVENT_LIMITRATES:"aplus-event-limitrates",APLUS_DEVICE_ENABLE:"aplus-device-enable",PERFORMANCE_WARING:"$$_perf_warning",START_ID:"START_ID",AUTO_GET_OPENID:"autoGetOpenid",TRACKDOMAIN:"trackDomain",APLUS_MINI_REQUEST_TIMEOUT:"aplus-request-timeout",APLUS_LATEAST_UTM:"APLUS_LATEAST_UTM",APLUS_FORWARD_APPKEY:"aplus-forward-appkey",APLUS_FORWARD_DOMAIN:"aplus-forward-domain",APLUS_FORWARD_EVENT_FILTER:"aplus-forward-event-filter",CNA_SYNC_READY:"cnaSyncReady",PAGE_CONFIG:"pageConfig",APLUS_VT_CONFIG_URL:"aplus-vt-cfg-url",APLUS_EXPOSURE_EVENT_CAN_REPEAT:"aplus-exposure-event-can-repeat",APLUS_MINI_REQUESTS_LIMIT:"aplus-mini-requests-limit",DEBUG:"DEBUG",APLUS_UTM_EXPIRE_DAYS:"aplus-utm-expire-days",APLUS_PAGEVIEW_DURATION_CAN_TRACK:"aplus-pageview-duration-can-track",APLUS_PRESET_EVENTS_DISABLED:"aplus-preset-events-disabled",APLUS_GLOBALPROPERTY_SYNC_ENABLE:"aplus-globalproperty-sync-enable",APLUS_NEXT_PAGE_TRANSP:"aplus-nextpage-properties",APLUS_LOCALSTORE_PAGE_TRANSP:"aplus-native-page-properties",APLUS_CALLBACK:"qtCallback",START_TIME:"start_time"},ee=l.indexOf;function te(){}te.prototype.create=function(e){for(var t in e)void 0===this[t]&&(this[t]=e[t]);return this};te.prototype.calledList=[];te.prototype.setCalledList=function(e){-1===ee(this.calledList,e)&&this.calledList.push(e)};te.prototype.resetCalledList=function(){this.calledList=[]};te.prototype.wrap=function(e,t){var n=this,a=((this.context||{}).Compose||{}).maxTimeout||1e4;return function(o){var r,i=e.length,s=0,c=0;n.calledList&&n.calledList.length>0&&n.resetCalledList();return function u(l,f){if(s!==i){if(-1===ee(n.calledList,s)){n.setCalledList&&n.setCalledList(s);if(!(e&&e[s]&&_(e[s][0])))return;try{o=e[s][0].call(n,o,(function(){s++;c=1;u()}))}catch(e){console.log(e)}}var p="number"==typeof o;if("pause"===o||p){c=0;var g=p?o:a,d=e[s]?e[s][1]:"";r=setTimeout((function(){if(0===c){T().w("jump the middleware about "+d+", because waiting timeout maxTimeout = "+g);o=null;s++;u()}}),g)}else if("done"===o)u(s=i,o);else{s++;u()}}else{o="done";n.resetCalledList();_(t)&&f!==o&&t.call(n,o);clearTimeout(r)}}()}};function ne(){return{init:function(e){this.opts=e;e&&"object"===a(e.middleware)&&e.middleware.length>0?this.middleware=e.middleware:this.middleware=[];this.plugins_name=[]},pubsubInfo:function(e,t){try{var n=e.pubsub;n&&n.publish("plugins_change_"+e.pubsubType,t)}catch(e){console.log(e)}},isConstructor:function(e){var t=!0;try{new e}catch(e){t=!1}return t},run:function(e){e||(e=0);var t=this,n=this.middleware,o=this.opts||{},r=o.plugins;if(r&&"object"===a(r)&&r.length>0){var i=r[e];this.plugins_name.push(i.name);n.push([function(e,n){t.pubsubInfo(this,i);var a;i.path&&t.isConstructor(i.path)?a=i.path:i.path.default&&t.isConstructor(i.path.default)&&(a=i.path.default);if(a){var r=new a({context:this.context,config:f(i.config||{},o.config)});if(!r.options){r.init||(r.init=function(e){this.options=e});r.init({context:this.context,config:f(i.config||{},o.config)})}return r.run(e,(function(e){setTimeout((function(){n(i,e)}),1)}))}},i.name]);if(r[++e])return this.run(e)}return n}}}var ae,oe=function(){};oe.prototype.run=function(e,t,n){var a=new ne;a.init({middleware:[],config:t.config,plugins:e.plugins});var o=a.run(),r=_(e.context)?new e.context:e.context;r.userdata=t.userdata;var i={context:r,pubsub:x(O()+"_pubsub"),pubsubType:t&&t.pubsubType},s=new te;s.create(i);s.wrap(o,(function(){i.context.status="complete";if(t){t.middlewareMessageKey&&U([t.middlewareMessageKey,i.context]);t.messageFnQueue&&c(t.messageFnQueue,(function(t){t(getGlobalValue(O()),e)}))}_(n)&&n(i.context)}))()};function re(e,t){try{a=window,o={apiName:e.apiName,queueName:e.queueName},C=a._sdk_context||I.create(a,o);var n=M(O());U([Q.SDK_READY,"running"]);n&&(n.initParams=function(t){var n=x("_$")||{};n.meta_info=f(e.metaInfo,t);R("_$",n);!function(e){if("boolean"==typeof ae)return ae;if("boolean"==typeof e)ae=e;else if(localStorage&&location){var t=location.href.match(/debugMode=(true|false)/);t&&t.length>0&&localStorage.setItem("debugMode",t[1]);ae="true"===localStorage.getItem("debugMode")}else ae=!1;T().setDebug(ae,!1)}(t.DEBUG)});!function(e,t){(new oe).run({plugins:e.plugins,context:e.context},{config:{},userdata:{},pubsubType:"aplusinit",messageFnQueue:[],middlewareMessageKey:"mw_change_aplusinit"},(function(e){var n=["aplusInitContext",e];U(n);j(n);_(t)&&t(e)}))}({plugins:e.plugins,context:function(){var t={PAGE_LOAD_TIME:new Date};c(e.plugins,(function(e){t[e.name]=e.config||{};"aplus_log_inject"===e.name&&e.config&&e.config.plugins&&c(e.config.plugins.pv,(function(e){t[e.name]=e.config}))}));return f(t,{sdk_config:e})}},(function(e){if(_(t)){t(e);var n=["".concat(O(),"Ready"),"complete"];U(n);j(n)}}))}catch(e){}var a,o}function ie(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];n.push.apply(n,arguments);return new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};Object.defineProperty(n,"__esModule",{value:!0});Object.keys(e).forEach((function(t){var a=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,a.get?a:{enumerable:!0,get:function(){return e[t]}})}));return n}var se,ce,ue,le,fe,pe,ge="2.1.15",de={pushIntoGoldlogQueue:function(e,t){var n=M(N()),a=M(O()),o=e.split("."),r=a[o[1]],i=r?r[o[2]]:null;a&&2===o.length&&r?r.apply(a,t):3===o.length&&i?i.apply(r,t):n.push({action:e,arguments:t})}},he=!1,_e={},me="touchstart",ve="touchend",ye="touchmove",be="tapping",Ae="touchcancel",Se="aplus_tap".concat((ue=1e5,(ce=1)+Math.floor(Math.random()*(ue-ce+1))));function Ee(e,t,n){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0);if("object"===a(n))for(var r in n)o[r]=n[r];e.dispatchEvent(o)}function we(e){var t=document.documentElement;if(0===Object.keys(_e).length){t.addEventListener(ye,Te,!1);t.addEventListener(ve,Pe,!1);t.addEventListener(Ae,Pe,!1)}for(var n=0;n<e.changedTouches.length;n++){var a=e.changedTouches[n],o={};for(var r in a)o[r]=a[r];var i={startTouch:o,startTime:Date.now(),status:be,element:e.srcElement||e.target};_e[a.identifier]=i}}function Te(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],a=_e[n.identifier];if(!a)return;var o=n.clientX-a.startTouch.clientX,r=n.clientY-a.startTouch.clientY,i=Math.sqrt(Math.pow(o,2)+Math.pow(r,2));(a.status===be||"pressing"===a.status)&&i>10&&(a.status="panning")}}function Pe(e){for(var t=0;t<e.changedTouches.length;t++){var n=e.changedTouches[t],a=n.identifier,o=_e[a];if(o){if(o.status===be&&e.type===ve){o.timestamp=Date.now();Ee(o.element,Se,{touch:n,touchEvent:e})}delete _e[a]}}var r=document.documentElement;if(0===Object.keys(_e).length){r.removeEventListener(ye,Te,!1);r.removeEventListener(ve,Pe,!1);r.removeEventListener(Ae,Pe,!1)}}function Ce(e,t){!function(){if(!he){document.documentElement.addEventListener(me,we,!1);he=!0}}();if(e&&e.addEventListener&&t){!function(e){if(!e.__fixTouchEvent){e.addEventListener(me,(function(){}),!1);e.__fixTouchEvent=!0}}(e);e.addEventListener(Se,t._aplus_tap_callback=function(e){t(e,e.target)},!1)}}function Ie(){var e=[];try{var t=location.hostname;if("localhost"===t)return[t];for(var n=t.split("."),a=2;a<=n.length;){e.push(n.slice(n.length-a).join("."));a++}}catch(e){}return e}function ke(e,t){return e&&e.getAttribute&&e.getAttribute(t)||""}function Oe(e,t,n){if(e&&e.setAttribute)try{e.setAttribute(t,n)}catch(e){}}function Ne(){fe||(fe=document.getElementById("beacon-aplus")||document.getElementById("tb-beacon-aplus"));return fe}function Me(e){var t=ke(Ne(),"cspx");e&&t&&(e.nonce=t)}function xe(e,t){var n=((M(O())._$||{}).meta_info||{}).aplus_ctap||{};n&&"function"==typeof n.on?n.un(e,t):function(e,t){e&&e.removeEventListener&&t&&t._aplus_tap_callback&&e.removeEventListener(Se,t._aplus_tap_callback,!1)}(e,t)}function Re(e){try{document.documentElement.doScroll("left")}catch(t){setTimeout((function(){Re(e)}),1);return}e()}function Le(e){var t,n=0,a=function(){0===n&&e();n++};"complete"===document.readyState&&a();if(document.addEventListener){t=function(){document.removeEventListener("DOMContentLoaded",t,!1);a()};document.addEventListener("DOMContentLoaded",t,!1);window.addEventListener("load",a,!1)}else if(document.attachEvent){t=function(){if("complete"===document.readyState){document.detachEvent("onreadystatechange",t);a()}};document.attachEvent("onreadystatechange",t);window.attachEvent("onload",a);var o=!1;try{o=null===window.frameElement}catch(e){}document.documentElement.doScroll&&o&&Re(a)}}function De(){var e,t,n=window,a=arguments;if(2===a.length){"DOMReady"===a[0]&&Le(a[1]);"onload"===a[0]&&Ue(a[1])}else if(3===a.length){var o=a[0],r=a[1],i=a[2];if("tap"===r||"tapSpm"===r)!function(e,t,n){var a=(M(O())._$||{}).meta_info||{},o=a.aplus_ctap||{},r=a["aplus-touch"];if(o&&"function"==typeof o.on)o.on(e,t);else{var i="ontouchend"in document.createElement("div");!i||"tap"!==r&&"tapSpm"!==n&&"tap"!==n?De(e,i?"touchstart":"mousedown",t):Ce(e,t)}}(o,i,r);else{["pushState","replaceState"].indexOf(r)>-1&&(history[r]=(e=r,t=history[e],function(){var n;try{(n=new Event(e)).arguments=arguments}catch(t){(n=document.createEvent("Event")).initEvent(e,!0,!0)}window.dispatchEvent(n);return t.apply(this,arguments)}));var s=document.attachEvent?"attachEvent":"addEventListener",c=!!document.attachEvent;o[s]((c?"on":"")+r,(function(e){var t=(e=e||n.event).target||e.srcElement;"function"==typeof i&&i(e,t)}),!!function(e){if("boolean"==typeof se)return se;if(!/touch|mouse|scroll|wheel/i.test(e))return!1;se=!1;try{var t=Object.defineProperty({},"passive",{get:function(){se=!0}});window.addEventListener("test",null,t)}catch(e){}return se}(r)&&{passive:!0})}}}function Ue(e){"complete"===document.readyState?e():De(window,"load",e)}function je(e){try{return localStorage.getItem(e)}catch(e){return""}}function Be(e,t){return e&&e[t]?e[t].toLowerCase():""}function Ve(e,t){var n=e;do{n=n[t]}while(n&&1!==n.nodeType);return n}function Ge(e){return Ve(e,"previousSibling")}function Fe(e){return e&&e.id&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.id)}function He(e){if(!e.parentNode)return-1;for(var t=0,n=Be(e,"tagName"),a=e.parentNode.children,o=0;o<a.length;){if(n&&Be(a[o],"tagName")===n){if(e===a[o])return t;t++}o++}return-1}function We(e){var t=e.parentNode&&9===e.parentNode.nodeType?-1:He(e);return e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))?"#".concat(e.getAttribute("id")):Be(e,"tagName")+(~t?":nth-of-type(".concat(t+1,")"):"")}function Ke(e,t){if("aplus-autotrack-off"===t){for(var n=e,a=!1;n;){if(n.hasAttribute&&n.hasAttribute(t)){a="true"===n.getAttribute(t);break}n=n.parentNode}return a}return e.hasAttribute?e.hasAttribute(t):!(!e.attributes[t]||!e.attributes[t].specified)}function ze(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function qe(e){if(!document)return"";var t=document.cookie.match(new RegExp("(?:^|;)\\s*".concat(e,"=([^;]+)")));return t?t[1]:""}function Ye(e){var t=new Date,n="";if("session"===e.expires);else if(e.expires&&("number"==typeof e.expires||e.expires.toUTCString)){"number"==typeof e.expires?t.setTime(t.getTime()+24*e.expires*60*60*1e3):t=e.expires;n="expires=".concat(t.toUTCString())}else{var a=20;l.indexOf(["v.youku.com","www.youku.com","player.youku.com"],location.hostname)>-1&&(a=1);t.setTime(t.getTime()+365*a*24*60*60*1e3);n="expires=".concat(t.toUTCString())}return n}function Qe(e,t,n){if(document){n||(n={});t+=";".concat(Ye(n));t+="; path=".concat(n.path?n.path:"/");t+="; domain=".concat(n.domain);document.cookie="".concat(e,"=").concat(t);var a=0;try{var o=navigator.userAgent.match(/Chrome\/\d+/);o&&o[0]&&(a=o[0].split("/")[1])&&(a=parseInt(a,10))}catch(e){}if(n.SameSite&&a>=80){t+="; SameSite=".concat(n.SameSite);t+="; Secure";document.cookie="".concat(e,"=").concat(t)}return qe(e)}}var $e=["tracknick","thw","cna"];function Je(e,t){var n,a="";if(!e||!t)return a;try{var o=new RegExp("".concat(e,"=([^&|#|?|/]+)"));if("spm"===e||"scm"===e){var r=new RegExp("\\?.*".concat(e,"=([\\w\\.\\-\\*/]+)")),i=t.match(o),s=t.match(r),c=i&&2===i.length?i[1]:"",u=s&&2===s.length?s[1]:"";a=c>u?c:u;a=decodeURIComponent(a)}else a=(n=t.match(o))&&2===n.length?n[1]:"";return a}catch(e){T().w("get param from url failed",e);return a}}function Xe(e){le=le||document.getElementsByTagName("head")[0];return pe&&!e?pe:le?pe=le.getElementsByTagName("meta"):[]}function Ze(e,t){var n,a,o,r=Xe(),i=r.length;for(n=0;n<i;n++)ke(a=r[n],"name")===e&&(o=ke(a,t||"content"));return o||""}function et(e,t){var n="aplus&sidx=aplusSidex&ckx=aplusCkx",a=e||n;try{if(t){var o=v(t),r=[Z.APLUS,"cna",Q.SPM_CNT,Q.SPM_URL,Q.SPM_PRE,"logtype","pre","uidaplus","asid","sidx","trid","gokey"];l.each(r,(function(e){if(Object.prototype.hasOwnProperty.call(o,e)){T().w("Can not inject keywords: ".concat(e));delete o[e]}}));delete o[""];var i="";if(e){var s=e.match(/aplus&/).index,c=s>0?v(e.substring(0,s)):{};delete c[""];i="".concat(b(d.assign(c,o)),"&").concat(e.substring(s,e.length))}else i="".concat(b(o),"&").concat(n);return i}return a}catch(e){return a}}function nt(){var e=et(ke(Ne(),"exparams"),function(){var e=M(O());return((e&&e._$?e._$:{}).meta_info||{})["aplus-exparams"]||""}())||"";return e&&e.replace(/&amp;/g,"&").replace(/\buser(i|I)d=/,"uidaplus=")}var at="history";function ot(e){var t="";e&&(t=-1!==e.indexOf("?")?e.split("?")[0]:e);return t}var rt={tryToGet:ke,tryToSet:Oe,tryToRemove:function(e,t){if(e&&e.removeAttribute)try{e.removeAttribute(t)}catch(n){Oe(e,t,"")}}},it={getSDKScriptNode:Ne,setNonce:Me,addScript:function(e,t,n){var a="script",o=document.createElement(a);o.type="text/javascript";o.async=!0;var r=Ne();r&&r.hasAttribute("crossorigin")&&(o.crossOrigin="anonymous");var i=Q.HTTPS===location.protocol&&t||e;0===i.indexOf("//")&&(i=Q.HTTPS+i);o.src=i;n&&(o.id=n);Me(o);var s=document.getElementsByTagName(a)[0];le=le||document.getElementsByTagName("head")[0];s?s.parentNode.insertBefore(o,s):le&&le.appendChild(o)},loadScript:function(e,t){try{var n=document.createElement("script");le=le||document.getElementsByTagName("head")[0];n.async=!0;var a=function(e){n.onreadystatechange=null;n.onload=null;n.onerror=null;n=null;t(e)};if("onload"in n)n.onload=a;else{var o=function(){/loaded|complete/.test(n.readyState)&&a()};n.onreadystatechange=o;o()}n.onerror=function(e){a(e)};n.src=e;Me(n);var r="qt-setting";n.id=r;n.type="text/javascript";n.charset="utf-8";var i=document.getElementsByTagName("script");i&&i.length>0&&l.each(i,(function(e){e&&e.id===r&&le.removeChild(e)}));le.appendChild(n)}catch(e){}},isTouchEnabled:function(){return"ontouchend"in document.createElement("div")},getAttributeFromEachDom:function(e,t){for(var n="";"BODY"!==e.tagName&&!(n=ke(e,t));)e=e.parentNode;return n},siblings:function(e,t){return"nextSibling"===t?e.nextSibling:"previousSibling"===t?e.previousSibling:null},sibling:Ve,previousElementSibling:function(e){var t=e;if("previousElementSibling"in document.documentElement)return Ge(t);for(;t.previousSibling;)if(1===(t=t.previousSibling).nodeType)return t;return null},getSameTypeSiblings:function(e){for(var t=e,n=t.parentNode,a=Be(t,"tagName"),o=[],r=0;r<n.children.length;){var i=n.children[r];1===i.nodeType&&a&&Be(i,"tagName")===a&&o.push(n.children[r]);r++}return o},getNext:function(e){return Ve(e,"nextSibling")},getPrev:Ge,indexOf:function(e,t){var n=e.indexOf;if(n)return n.call(e,t);for(var a=0;a<e.length;a++)if(t===e[a])return a;return-1},getClosestLi:function(e){return function(e,t){for(;e&&e!==document&&1===e.nodeType;e=e.parentNode)if("li"===Be(e,"tagName"))return e;return null}(e)},getElementPath:function(e){var t=[];if(!e)return"";for(;e.parentNode;){if(Fe(e)){t.unshift("".concat(Be(e,"tagName"),"#").concat(e.id));break}if(e===document.body){t.unshift("body");break}if(e.tagName&&e.tagName.toLowerCase){t.unshift(Be(e,"tagName"));e=e.parentNode}}return t.join(" > ")},getXPath:function(e){var t,n,a,o,r,i,s=document.getElementsByTagName("*");for(t=[];e&&1===e.nodeType;e=e.parentNode)if(e.id){i=e.id;o=0;for(n=0;n<s.length;n++)if((r=s[n]).id&&r.id===i){o++;break}t.unshift("".concat(e.tagName.toLowerCase(),'[@id="').concat(i,'"]'));if(1===o){t.unshift("/");return t.join("/")}}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName===e.tagName&&n++;t.unshift("".concat(e.tagName.toLowerCase(),"[").concat(n,"]"))}return t.length?"/".concat(t.join("/")):null},getDomIndex:He,selector:We,getDomSelector:function e(t,n){if(!t||!t.parentNode||!t.parentNode.children)return null;n=n&&n.join?n:[];if("body"!==Be(t,"tagName")&&1===t.nodeType){n.unshift(We(t));return t.getAttribute&&t.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(t.getAttribute("id"))?n.join(" > "):e(t.parentNode,n)}n.unshift("body");return n.join(" > ")},hasAttributes:function(e,t){if("string"==typeof t)return Ke(e,t);if(l.isArray(t)){for(var n=!1,a=0;a<t.length;a++)if(Ke(e,t[a])){n=!0;break}return n}},hasAttribute:Ke,getElementContent:function(e,t){var n="",a=M(O());e.textContent?n=ze(e.textContent):e.innerText?n=ze(e.innerText):"input"===t||"INPUT"===t?a.getMetaInfo(Z.SDK_AUTOTRACK_CONFIG).collect_input&&(n=encodeURIComponent(e.value)||""):"button"!==e.type&&"submit"!==e.type||(n=e.value||"");n&&(n=n.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255));return n},nodelistToArray:function(e){var t,n;try{return t=[].slice.call(e)}catch(o){t=[];n=(e||[]).length;for(var a=0;a<n;a++)t.push(e[a]);return t}},addStyle:function(e,t){var n="".concat(e,"_style"),a=document.getElementById(n);if(!a){(a=document.createElement("link")).id=n;a.href=t;a.rel="stylesheet";a.type="text/css";document.getElementsByTagName("head").item(0).appendChild(a)}},getRefer:function(){return document.referrer||""},getDomName:Be,setWinVariableKeyValue:function(e,t){window[e]=t}},st={getCookie:qe,trySetCookie:Qe,setCookie:function(e,t,n){try{if(!document)return"";n||(n={});if(n.domain)Qe(e,t,n);else for(var a=Ie(),o=0;o<a.length;){n.domain=a[o];Qe(e,t,n)?o=a.length:o++}}catch(e){}},getData:function(){var e={};l.each($e,(function(t){e[t]=qe(t)}));if(location){var t=location.hostname;e.cnaui=/\btanx\.com$/.test(t)?qe("cnaui"):""}return e},getHng:function(){return encodeURIComponent(qe("hng")||"")},getCna:function(e){return qe(e)||qe("_".concat(e))},setCna:function(e,t,n){for(var a=Ie(),o=0;o<a.length;){n.domain=a[o];if(Qe(e,t,n))o=a.length;else{if(o===a.length-1){var r="".concat(t,";").concat(Ye(n));r+="; path=/";document.cookie="_".concat(e,"=").concat(r)}o++}}},getCookieFP:function(){var e,t=qe(Q._browerFP);t&&(e=t.split("_")[0]);return e},getAttrArgsFromCookie:function(e){var t={};l.each(e||[],(function(e){var n=e.commitKey||e,a=e.cookieName||e;t[n]=qe(a)||""}));return t}},ct={on:De,un:function(e,t,n){"tap"!==t?document.attachEvent?e.detachEvent(t,n):e.removeEventListener(t,n):xe(e,n)},onload:Ue,domReady:Le,addHandler:function(e,t,n){if(e.addEventListener){var a=M(O()).getMetaInfo(Z.APLUS_AUTOTRACK_CONFIG)||{};e.addEventListener(t,n,!!a.element_capture_enable||!1)}else e.attachEvent?e.attachEvent("on".concat(t),n):e["on".concat(t)]=n},removeHandler:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on".concat(t),n):e["on".concat(t)]=null},clickEvent:function(){return"ontouchstart"in document.documentElement==1?"touchstart":"click"}},ut={set:function(e,t){try{localStorage.setItem(e,t);return!0}catch(e){return!1}},get:je,test:function(){var e="grey_test_key";try{localStorage.setItem(e,1);localStorage.removeItem(e);return!0}catch(e){return!1}},remove:function(e){try{localStorage.removeItem(e);return!0}catch(e){return!1}},getLocalStorageFP:function(){var e,t=je(Q._browerFP);t&&(e=t.split("_")[0]);return e}},lt={getQueryFromUrl:function(){function e(e){for(var t=decodeURIComponent(e),n=t.indexOf("?")+1,a=t.substring(n),o=Object.create(null),r=a.split("&"),i=0;i<r.length;i++)o[r[i].split("=")[0]]=decodeURIComponent(r[i].split("=")[1]);return o}try{var t=location&&location.hash,n=location&&location.search;if(t&&-1!==t.indexOf("?"))return e(t);if(n&&-1!==n.indexOf("?"))return e(n)}catch(e){T().w("get query failed, current url =",location.href)}},getAParamFromUrl:Je,addParamsIntoUrl:function(e,t){var n,a,o,r=t||location.href,i="&",s=[];l.each(e,(function(e,t){new RegExp("".concat(e,"=")).test(r)||s.push("".concat(e,"=").concat(t))}));if(0===s.length)return r;if(-1!==r.indexOf("#")){o=r.split("#");r=o.shift();a=o.join("#")}var c=r.split("?"),u=c.length-1;o=(o=c[0].split("//"))[o.length-1].split("/");if(u>0){n=c.pop();r=c.join("?")}n&&u>1&&-1===n.indexOf("&")&&-1!==n.indexOf("%")&&(i="%26");return r="".concat(r,"?").concat(s.join("&")).concat(n?i+n:"").concat(a?"#".concat(a):"")},getSPMFromUrl:function(e){return Je("spm",e)},tryToEncode:function(e){var t=e||"";if(e)try{t=encodeURIComponent(decodeURIComponent(e))}catch(e){}return t},tryToDecode:function(e,t){var n=t||"";if(e)try{n=decodeURIComponent(e)}catch(e){}return n},getWebUrlParams:function(){for(var e=/[?&]([^=#]+)=([^&#]*)/g,t=window.location.href,n={},a=e.exec(t);a;){n[a[1]]=a[2];a=e.exec(t)}return n}},ft={getMetaTags:Xe,getMetaCnt:Ze,mergeExparams:et,getExParams:nt,getExparamsInfos:function(e,t){for(var n={},a=e||["uidaplus","pc_i","pu_i"],o=nt()||"",r=A(o=o.replace(/&aplus&/,"&"))||[],i=function(e){return l.indexOf(a,e)>-1},s=0;s<r.length;s++){var c=r[s],u=c[0]||"",f=c[1]||"";u&&f&&("EXPARAMS"===t||i(u))&&(n[u]=f)}return n}},pt={watchHistoryChange:function(e){var t=M(O()),n=location.pathname+location.search;if(history.pushState&&window.addEventListener){de.pushIntoGoldlogQueue("".concat(O(),".on"),[window,"pushState",function(e){a(e)}]);de.pushIntoGoldlogQueue("".concat(O(),".on"),[window,"popstate",function(){a()}]);(Ze("aplus-track-replacestate")||t.getMetaInfo("aplus-track-replacestate"))&&de.pushIntoGoldlogQueue("".concat(O(),".on"),[window,"replaceState",function(e){a(e)}])}function a(a){var o="";if(a){o=a&&a.arguments&&a.arguments.length>2&&a.arguments[2];var r=/^http|https/.test(o)?o:"".concat(location.protocol,"//").concat(location.host).concat(o);location.href!==r&&setTimeout((function(){e&&"function"==typeof e&&e(o,at)}),0)}else(o=location.pathname+location.search)!==n&&setTimeout((function(){e&&"function"==typeof e&&e(o,at)}),0);if(t.getMetaInfo(Z.APLUS_EXPOSURE_EVENT_CAN_REPEAT)){var i="".concat(O(),"_pubsub");t[i].publish("APLUS_AE_PAGE_CHANGE")}n=o}},watchHashChange:function(e){var t=ot(location.hash);de.pushIntoGoldlogQueue("".concat(O(),".on"),[window,"hashchange",function(){var n=ot(location.hash);if(t!==n){t=n;e&&"function"==typeof e&&e(t,"hash")}}])},retrenchHash:ot},gt=0,dt={},ht={getStartId:function(){return E.getRandomStr(10)+Date.now()+E.getRandomStr(9)},getUUID:function(){return E.getRandomStr(10)+Date.now()+E.getRandomStr(9)},fixDomain:function(e){if(-1!==e.indexOf("https://")||-1!==e.indexOf("http://"))return e;e=(/^\/\//.test(e)?"":"//")+e;return/(\d+\.){3,}\d+/.test(e)?Q.HTTP+e:Q.HTTPS+e},getAppKey:function(){var e=M(O());return e.getMetaInfo("appkey")||e.getMetaInfo("appId")||e.getMetaInfo("appKey")},getTrackDomain:function(){var e=M(O());return e.getMetaInfo(Z.APLUS_PV_DOMAIN)||e.getMetaInfo(Z.TRACKDOMAIN)},checkDomain:function(e,t){var n=new RegExp(/^((http|https|''):\/\/)?([a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+(:[0-9]{1,5})*)(\/.*)?$/),a=((e||"").match(n)||[])[0];if(!e||!a){T().tip_w(T().repeat("!"));T().tip_w("trackDomain error, please check ".concat(t," setting, current value is: ").concat(e)||"undefined");T().tip_w("we accept these three patterns:");T().tip_w("eg1: https://test-qtracking-xxx.com:port/a/b/c, port is optional");T().tip_w("eg2: http://test-qtracking-xxx.com:port/a/b/c, port is optional");T().tip_w("eg3: test-qtracking-xxx.com:port/a/b/c, port is optional");T().tip_w(T().repeat("!"));return!1}return!0},checkOpenid:function(e){if(!e){T().tip_w(T().repeat("!"));T().tip_w("QT need an unique id as QT's deviceid!!");T().tip_w("setting examples: aplus_queue.push({action: '".concat(O(),".setMetaInfo', arguments: ['_anony_id', xxxxxx]});"));T().tip_w("referrence document: https://t.tb.cn/1dTHjTTQF0UjOTNHiCkaCS");T().tip_w(T().repeat("!"));return!1}return!0},checkEvent:function(e,t){if(!e||"string"!=typeof e){T().w("event logkey is invalid, id =",e||"'' event properties = ",h.stringfy(t.cusp));return!1}var n=["id","du"],o={};n.forEach((function(e){o[e]=1}));if(o[e]){T().e("eventId has conflict with reservewords: ".concat(n.join(",")));return!1}if(e.length>Z.MAX_EVENTID_LENGTH){T().e("The maximum length of event id shall not exceed ".concat(Z.MAX_EVENTID_LENGTH));return!1}if(t&&("object"!==a(t)||l.isArray(t))&&"string"!=typeof t){T().e("please check trackEvent properties. properties should be string or object(not include Array)");return!1}if("object"===a(t)){var r=0;for(var i in t)if({}.hasOwnProperty.call(t,i)){if(i.length>Z.MAX_PROPERTY_KEY_LENGTH){T().e("The maximum length of property key shall not exceed ".concat(Z.MAX_PROPERTY_KEY_LENGTH));return!1}if(r>=Z.MAX_PROPERTY_KEYS_COUNT){T().e("The maximum count of properties shall not exceed ".concat(Z.MAX_PROPERTY_KEYS_COUNT));return!1}if(o[i]){T().e("property key has conflict with reserveWords: ".concat(n.join(",")));return!1}r+=1}}return!0},rank:function(){gt++;Object.prototype.hasOwnProperty.call(dt,gt)?gt++:dt[gt]=gt;return gt},clear:function(){gt=0;dt={}},zeroFill:function(e,t,n){var a="".concat(Math.abs(e)),o=t-a.length,r=e>=0,i=Math.pow(10,Math.max(0,o)).toString().substring(1)+a;return r?(n?"+":"")+i:"-".concat(i)},date2YYMMDD:function(e){try{var t=new Date;return[t.getFullYear(),this.zeroFill(t.getMonth()+1,2,0),this.zeroFill(t.getDate(),2,0)].join(e||"")}catch(e){return""}},date2YYMMDDHHMMSS:function(e){try{var t=new Date;return[t.getFullYear(),this.zeroFill(t.getMonth()+1,2,0),this.zeroFill(t.getDate(),2,0),this.zeroFill(t.getHours(),2,0),this.zeroFill(t.getMinutes(),2,0),this.zeroFill(t.getSeconds(),2,0)].join(e||"")}catch(e){return""}},mapEventSampleRates:function(e){var t=[];c(e,(function(e){e.eventIds&&e.eventIds.length>0&&c(e.eventIds,(function(n){t.push({eventId:n,samplingRate:e.samplingRate})}))}));return t},hash:function(e,t){var n,a=t||1315423911;for(n=e.length-1;n>=0;n--)a^=(a<<5)+e.charCodeAt(n)+(a>>2);for(var o=(2147483647&a).toString(16);o.length<8;)o+="0";return o},isDebug:function(){var e=!1,t=M(O());try{e=/debugMode=true/.test(location.href)||t.getMetaInfo("DEBUG")}catch(e){}return e},localAutoEventDisabled:function(){return!!M(O()).getMetaInfo(Z.APLUS_DISABLE_AUTOEVENT)},localAutoPVDisabled:function(){var e=M(O());return!(!e.getMetaInfo(Z.APLUS_DISABLE_AUTOPV)&&"MAN"!==e.getMetaInfo("aplus-waiting"))},getAutoTrackStatus:function(){return!!M(O()).getMetaInfo(Z.APLUS_AUTOTRACK_ENABLED)},semicolonStr2Obj:function(e,t,n){t=t||{};var a,o,r=e.split(";"),i=r.length;for(o=0;o<i;o++){a=r[o].split("=");var s=E.trim(a.slice(1).join("="));t[E.trim(a[0])||""]=n?s:lt.tryToDecode(s)}return t},getEtagUrl:function(e){var t=M(O()),n=e;try{var a=t.getMetaInfo(Z.APLUS_PV_DOMAIN);a=this.fixDomain(a);n="".concat(a,"/eg.js")}catch(e){}return n},getImprintFromStorage:function(e){if(ut.get&&ut.test()){var t="",n=ut.get(e);if(n){var a=n.split("||")||[];t=a.length>1&&a[1]}return decodeURIComponent(t)}return""},setImprintToStorage:function(e,t){t&&ut.set&&ut.test()&&ut.set(e,"".concat(this.date2YYMMDDHHMMSS(),"||").concat(encodeURIComponent(t)))},setRemoteConfigToStorage:function(e,t){if(t&&ut.set&&ut.test()){var n=d.cloneDeep(t);"object"===a(n)&&(n=JSON.stringify(n));ut.set(e,"".concat(this.date2YYMMDDHHMMSS(),"||").concat(encodeURIComponent(n)))}},getRemoteConfigFromStorage:function(e){if(ut.get&&ut.test()){var t="",n=ut.get(e);if(n){var a=n.split("||")||[];t=a.length>1&&a[1]}return h.parse(decodeURIComponent(t))}return""},setCnaToStorage:function(e,t,n){n&&ut.set&&ut.test()&&ut.set(e,"".concat(t,"_").concat(encodeURIComponent(n)))},getCnaFromStorage:function(e,t){if(ut.get&&ut.test()){var n="",a=ut.get(e);if(a){var o=a.split("_")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return decodeURIComponent(n)}return""},deleteInfo:function(e,t){c(t,(function(t){delete e[t]}));return e},resetFn:function(){var e=arguments.length>0&&arguments[0]?arguments[0]:{},t=arguments.length>1&&arguments[1]?arguments[1]:"",n=arguments.length>2&&arguments[2]?arguments[2]:function(){},a=e[t];e[t]=function(){var e=a&&a.apply(this,arguments);return e?n.call(this,e):n.apply(this,arguments)}},rewriteFn:function(e,t,n){var a=e[t];e[t]=function(e){n.call(this,e);a&&a.call(this,e)}},getHashKey:function(e,t){var n=[t.logkey,t.cssSelector];t.positionSelector&&n.push(t.positionSelector);e.id&&n.push(e.id);e.index>=0&&n.push(e.index);e.dataset&&e.dataset.privateNodeId&&delete e.dataset.privateNodeId;e.dataset&&n.push(JSON.stringify(e.dataset));return n=n.join("_")},getTimeZone:function(){var e=-(new Date).getTimezoneOffset()/60;return Math.abs(parseInt(e,10))},convertNativeMapStringToJSON:function(e){var t=e.replace(/(\w+)=([^,]+)/g,'"$1":"$2"').replace(/[{}]/g,""),n="{".concat(t,"}");return JSON.parse(n)}},_t={rank:ht.rank,clear:ht.clear},mt={localAutoEventDisabled:ht.localAutoEventDisabled,localAutoPVDisabled:ht.localAutoPVDisabled,getAutoTrackStatus:ht.getAutoTrackStatus},vt={set:ht.setRemoteConfigToStorage,get:ht.getRemoteConfigFromStorage},yt={set:ht.setImprintToStorage,get:ht.getImprintFromStorage},bt={set:ht.setCnaToStorage,get:ht.getCnaFromStorage},At={resetFn:ht.resetFn,rewriteFn:ht.rewriteFn};ht.LocalCfgUtils=mt;ht.RemoteCfgUtils=vt;ht.CNAUtils=bt;ht.ImprintUtils=yt;ht.AccessType={MOBILE_NETWORK_2G:"2g",MOBILE_NETWORK_3G:"3g",MOBILE_NETWORK_4G:"4g",MOBILE_NETWORK_NONE:"none"};ht.FunctionUtils=At;ht.RankUtils=_t;var St,Et,wt,Tt=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){try{var e=M(O()),t=ht.getStartId();e[Z.START_ID]=t;e[Z.START_TIME]=Date.now()}catch(e){}}}]);return e}(),Pt=ie(Object.freeze({__proto__:null,default:Tt})),Ct=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){var e=document,t=M(O());if(!t._aplus_cplugin_track_deb){t._aplus_cplugin_track_deb={status:"init"};var n=window,a=function(e){t._aplus_cplugin_track_deb.status="start";var n={aplus_track_debug_id:e},a=M(N());a.push({action:"".concat(O(),".appendMetaInfo"),arguments:["aplus-exdata",n]});a.push({action:"".concat(O(),".appendMetaInfo"),arguments:["aplus-cpvdata",n]});t._aplus_cplugin_track_deb.status="complete"};ct.on(n,"message",(function e(){var t=e&&e.data;if(t&&"qt_verify_msg"===t.message){window.localStorage.setItem("aplus_track_debug_id",t.data);a(t.data);e.source&&e.source.postMessage({message:"qt_msg_sdk"},e.origin)}}));var o=function(){try{var t=n.localStorage,a="aplus_track_debug_id",o=new RegExp("[?|&]".concat(a,"=(\\w*)")),r=location.href.match(o);if(r&&r.length>0)t.setItem(a,r[1]);else{var i=(e.referrer||"").match(o);if(i&&i.length>0)t.setItem(a,i[1]);else{var s=(n.name||"").match(o);s&&s.length>0&&t.setItem(a,s[1])}}var c=t.getItem(a)||"";if(!(c&&c.length>50))return!1;var u,l=c.split("_");if(l&&l.length>0){u=l[l.length-1].replace(/log/,"");var f=new Date,p=f.getTime(),g=new Date;g.getTime();f.setFullYear(parseInt(u.substring(0,4),10));f.setMonth(parseInt(u.substring(4,2)-1,10));f.setDate(parseInt(u.substring(6,2),10));f.setHours(parseInt(u.substring(8,2),10));f.setMinutes(parseInt(u.substring(10,2),10));f.setSeconds(parseInt(u.substring(12,2),10));f.setMilliseconds(0);p=f.getTime();return g.getTime()-p<=36e5&&(c||r[1])}}catch(e){return!1}}();o&&a(o)}}}]);return e}(),It=ie(Object.freeze({__proto__:null,default:Ct})),kt=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(e,t){var n=setInterval((function(){if(document.getElementsByTagName("body").length){clearInterval(n);n=null;t()}}),50);setTimeout((function(){n&&clearInterval(n)}),1e3);return 1e3}}]);return e}(),Ot=ie(Object.freeze({__proto__:null,default:kt})),Nt=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){M(O())._aplus_client=function(){var e=navigator.userAgent,t={},n=e.match(/iphone|ipad|android|macintosh/i),a=e.match(/Darwin/i);t=n?function(e,t){var n=e.substring(e.indexOf("(")+1,e.indexOf(")")),a={device_model:t},o=t.toLowerCase();switch(o){case"ipad":case"iphone":case"ipod":case"macintosh":"macintosh"===o?/Mac OS X/.test(n)?a.os="Mac OS X":a.os="Mac OS":a.os="IOS";a.os_version=n.match(/[0-9_.]+/)[0];break;case"android":a.os="Android";a.os_version=n.match(/[0-9.]+/)[0]}a.os_version=a.os_version.replace(/_/g,".");return a}(e,n[0]):a?{os:"Darwin",os_version:e.split(" ")[2].match(/[0-9.]+/)[0],device_model:"Darwin"}:function(e){for(var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["Windows NT 6.3","win8.1"],["Windows NT 10.0","win10"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows 10(WOW64)","win10"],["Windows","winOther"],["rhino","rhino"]],n=0,a=t.length;n<a;++n){var o=t[n][0];if(-1!==e.indexOf(o)){var r=o.split(" ")[0];return{device_model:r,os:r,os_version:t[n][1]}}}var i="other";return{device_model:i,os:i,os_version:i}}(e);var o=screen||{};t.screenWidth=o.width;t.screenHeight=o.height;if(navigator){t.userAgent=navigator.userAgent||"-";t.language=navigator.language||navigator.userLanguage||"-"}return t}()}}]);return e}(),Mt=ie(Object.freeze({__proto__:null,default:Nt})),xt={};function Rt(){if(document){var e=ft.getMetaTags();!function(e){var t,n,a,o=e.length,r={};for(t=0;t<o;t++){n=e[t];if("microscope-data"===rt.tryToGet(n,"name")){a=rt.tryToGet(n,"content");ht.semicolonStr2Obj(a,r);xt.is_head_has_meta_microscope_data=!0}}}(e);l.each(e,(function(e){var t=rt.tryToGet(e,"name");(/^aplus/.test(t)||/^qt/.test(t))&&(xt[t]=ft.getMetaCnt(t))}));var t,n,a=["aplus-rate-ahot"],o=a.length;for(t=0;t<o;t++)xt[n=a[t]]=parseFloat(xt[n])}Et=xt||{};return xt}function Lt(){return Et||Rt()}function Dt(e,t){Et||(Et={});if("object"===a(St)&&St[e]){!function(e){T().w("please do not repeat setPriorityMetaInfo ".concat(e))}(e);return!0}Et[e]="aplus-exinfo"===e?"object"===a(t)?t:v(t):t;try{e!==Q._DEV_ID&&e!==Q._USER_ID||ut.set(e,t||"")}catch(e){}return!0}function Ut(e){Et||(Et={});try{if(e===Q._DEV_ID)return Et[e]||ut.get(Q._DEV_ID)||ut.get(Q._CNA)||st.getCna(Q._CNA);if(e===Q._USER_ID)return Et[e]||ut.get(Q._USER_ID)}catch(e){}return Et[e]||""}function jt(){var e=document,t="//g.alicdn.com";if(e){var n=e.getElementById("beacon-aplus")||e.getElementById("tb-beacon-aplus"),a=["//assets.alicdn.com/g"];if(n)for(var o=0;o<a.length;o++)if(new RegExp(a[o]).test(n.src)){t=a[o];break}}return t}function Bt(){wt||(wt=jt());return"//assets.alicdn.com/g"===wt||"//laz-g-cdn.alicdn.com"===wt||"int"===Ut("aplus-env")}var Vt=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){!function(e){var t=M(O()),n=x("_$")||{},a=it.getRefer();n.send_pv_count=0;n.spm={data:{},page_referrer:a};n.page_referrer=a;t.globalConfig=e.globalConfig;n.meta_info=d.assign(Lt(),n.meta_info)||{};for(var o in e.metaInfo)if(o===Z.APLUS_PV_DOMAIN||o===Z.APLUS_EKV_DOMAIN){n.meta_info[Z.APLUS_PV_DOMAIN]=n.meta_info[Z.TRACKDOMAIN];n.meta_info[Z.APLUS_EKV_DOMAIN]=n.meta_info[Z.TRACKDOMAIN]}else o!==Z.APPKEY&&(n.meta_info[o]=e.metaInfo[o]);for(var r in n.meta_info)Object.prototype.hasOwnProperty.call(n.meta_info,r)&&Dt(r,n.meta_info[r]);t._$=n;t.isInternational=Bt;t.getCdnPath=jt}(this.options.context.sdk_config)}}]);return e}(),Gt=ie(Object.freeze({__proto__:null,default:Vt}));function Ft(e){if("function"==typeof e)try{e()}catch(e){t={msg:e.message||e},n="exception",M(N()).push({action:"".concat(O(),"._aplus_cplugin_track_deb.monitor"),arguments:[{key:"APLUS_PLUGIN_DEBUG",title:"aplus_core",msg:["_error_:methodName=".concat(n,",params=").concat(JSON.stringify(t))],type:"updateMsg",description:n||"aplus_core"}]})}var t,n}var Ht="data-aplus-ae",Wt="data-aplus-clk",Kt="data-spm-anchor-id",zt="data-aplus-vt-pos",Yt=1e3;function Qt(e){var t=M(O());return t&&t.getMetaInfo?t.getMetaInfo(e):ft.getMetaCnt(e)}var $t=function(e){var t=e;try{var n=Qt("aplus-auto-exp-visible");n&&(t=parseFloat(n));t<=0&&(t=e);return t}catch(n){return t=e}},Jt=$t(.3),Xt=$t("aplus-auto-exp-visible"),Zt=$t("aplus-auto-exp-window")||Xt,en=function(e){var t=e;try{var n=Qt("aplus-auto-exp-duration"),a=parseInt(n,10);"NaN"!=="".concat(a)&&(t=a);return t}catch(e){return t}}(300);function tn(e,t){var n,o=[],r=[];try{n=t||Qt(e);var i=[];if(n&&"string"==typeof n)try{i=JSON.parse(n)}catch(e){i=JSON.parse(n.replace(/'/g,'"'))}else"object"===a(n)&&n.constructor===Array&&(i=n);if(i&&i.constructor===Array)for(var s=0;s<i.length;s++){var c=i[s]||{},u=c.logkey||"",f=c.tag?c.tag:"",p=c.filter,g=c.cssSelector;if(!u||!(g||f&&p))throw new Error("meta ".concat(e," config error, ").concat(JSON.stringify(c)));p="string"==typeof p?p.split("="):[];var d=f;p.length>=2?d+="[".concat(p.shift(),'="').concat(decodeURIComponent(p.join("")),'"]'):1===p.length&&p[0]&&(d+="[".concat(decodeURIComponent(p[0]),"]"));g&&(d+=g);c.elementSelector=d;if(l.indexOf(r,d)>-1)throw new Error("meta ".concat(e," config error, tag_filter_cssSelector ").concat(d," repeated"));r.push(d);o.push(c)}return o}catch(e){T().w(e);return o}}function nn(e){return tn("aplus-auto-exp",e)||[]}function an(){var e=Qt("aplus-auto-exp-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null}function on(){var e=!1;try{e="throttle"===Qt("aplus-auto-exp-watchdom")}catch(e){}return e}function rn(e){return tn("aplus-auto-clk",e)||[]}var sn=document,cn=window;function un(e,t){var n=[];if((t||sn).querySelectorAll)n=it.nodelistToArray(document.querySelectorAll(e.elementSelector)||[]);else for(var a=document.getElementsByTagName(e.tag),o=e.filter.split("="),r=o.length>0?o[0].trim():"",i=o.length>1?o[1].trim():"",s=0;s<a.length;s++){var c=a[s],u=c.getAttribute(r);!c.hasAttribute(r)||i&&i!==u||n.push(c)}return n}var ln=/aplusDebug=true/.test(location.href)||/debugMode=true/.test(location.href);function fn(e,t,n){var a=n;a||(a={});try{var o=e.props||[];if(o&&u(o)&&o.length>0)for(var r=0;r<o.length;r++)if(t&&t.getAttribute){var i=o[r],s=t.getAttribute(i);null!=s&&""!==s&&(a[i.toLowerCase().replace(/^data-/,"")]=s)}}catch(e){T().w(e&&e.message)}return a}function pn(e,t,n){var a=n;a||(a={});try{var o=(e.filter||"").split("=");if(u(o)&&o[1])a[o[0]]=o[1];else if(o[0]&&t&&t.getAttribute){var r=t.getAttribute(o[0])||"";null!=r&&""!==r&&(a[o[0]]=r)}}catch(e){T().w(e&&e.message)}return a}var gn="data-tracker-params";function dn(e){var t={};try{var n=pn({filter:gn},e);n&&n[gn]&&(t=JSON.parse(n[gn]))}catch(e){}return t}function hn(e,t,n){n||(n={});var a,o,r;a=e&&e.spmB?e.spmB:document.body.dataset&&document.body.dataset.pagename;o=e&&e.spmC?e.spmC:t.parentNode&&t.parentNode.dataset&&t.parentNode.dataset.spmc;r=e&&e.spmD?e.spmD:t.dataset&&t.dataset.spmd;t.dataset&&t.dataset.aplusVtPos&&(r+="_".concat(t.dataset.aplusVtPos));a&&(n.spmB=a);o&&(n.spmC=o);r&&(n.spmD=r);return n}function _n(e){return!!/^POST|GET$/i.test(e)}function mn(e){return!!(/^\d+$/.test(e)&&parseInt(e,10)>0)}function vn(e){var t={method:"POST",pkgSize:10}||{};try{var n=e||{};_n(n.method)&&(t.method=n.method);mn(n.pkgSize)&&(t.pkgSize=parseInt(n.pkgSize,10))}catch(e){T().w(e&&e.message)}return t}var yn=function(e){var t=e.split("&"),n={};t.length>0&&c(t,(function(e){var t=e.split("=");2===t.length&&(n[t[0]]=lt.tryToEncode(t[1]))}));return n};function bn(e,t,n,o){var r={userdata:{},spm:"",scm:""};try{var i=e(t,n,o);if(i)if("string"==typeof i)r.userdata=yn(i);else if("object"===a(i)&&"object"===a(i.userdata)){g(i.userdata,(function(e,t){r.userdata[e]=t}));r.spm=i.spm;r.scm=i.scm}}catch(e){T().w(e)}return r}function An(e,t){var n=M(O()),a={};"aplus_webvt"!==e.source&&(a=function(e){var t=e.getAttribute("data-spm-anchor-id");if(t){var n=t.split(".");return{a:n[0],b:n[1],c:n[2],d:n[3],e:n[4]}}}(t.ele)||(window.g_SPM?window.g_SPM.getParam(t.ele):{}));var o="",r="x".concat(t.index);if(a.a&&a.b&&a.c&&a.d){var i=/^i/.test(a.d)?r:a.d;o="".concat(a.a,"_").concat(a.b,"_").concat(a.c,"_").concat(i);a.e&&(o+="_".concat(a.e))}else{o=r;n.pvid&&(o+=n.pvid)}if(!t.ignore_attr){o+="".concat(e.logkey,"_");o+="".concat(e.elementSelector,"_");o+=function(e,t){var n="";if(e&&t){var a=[e.getAttribute(t.filter)],o=t.props||[];if(o)for(var r=0;r<o.length;r++)a.push(e.getAttribute(o[r]));n=a.join("_")}return n}(t.ele,e)}return"".concat(r,"_").concat(ht.hash(o))}var Sn=function(e,t,n,o){n||(n="ADD");if(e&&"object"===a(t)){var r=x(o)||{},i=r._acHashMap||{},s=i[e]||[],c=function(){for(var e=0,n=s.length;e<n;){if((s[e]||{}).hash_value===t.hash_value)return e;e++}return-1}();if("ADD"===n&&-1===c){s.push(t);!function(e,t,n){var a=t.hash_value,o=x(n)||{};o.hash_value||(o.hash_value={});o.hash_value[e]||(o.hash_value[e]=cn.Map?new cn.Map:{});if(cn.Map){var r=o.hash_value[e].get(a);r?++r:r=1;o.hash_value[e].set(a,r)}else o.hash_value[e][a]?++o.hash_value[e][a]:o.hash_value[e][a]=1;R(n,o)}(e,t,o)}else"CLEAR"===n&&c>-1?s.splice(c,1):"UPDATE"===n&&(s=function(e,t){for(var n,a=0,o=e.length;a<o;){if((e[a]||{}).hash_value===t.hash_value){e[a]=t;n=!0;return e}a++}n||e.push(t);return e}(s,t));i[e]=s;r._acHashMap=i;R(o,r)}};function En(e,t,n){Sn(e,t,n,"_aplus_auto_exp")}function wn(e,t,n){Sn(e,t,n,"_aplus_ac")}var Tn=function(){return(new Date).getTime()};function Pn(e,t,n){var a,o,r,i,s=0;n||(n={});var c=function(){s=!1===n.leading?0:Tn();a=null;i=e.apply(o,r);if(!a){o=null;r=null}},u=function(){var u=Tn();s||!1!==n.leading||(s=u);var l=t-(u-s);o=this;r=arguments;if(l<=0||l>t){if(a){clearTimeout(a);a=null}s=u;i=e.apply(o,r);if(!a){o=null;r=null}}else a||!1===n.trailing||(a=setTimeout(c,l));return i};u.cancel=function(){clearTimeout(a);s=0;a=null;o=null;r=null};return u}function Cn(e){var t=x(e.aplusKey)||{},n=(t.hash_value||{})[e.logkey]||(cn.Map?new cn.Map:{});if((n&&n.get?n.get(e.hash_value):n[e.hash_value])>1)return!0;for(var a=(t._acHashMap||{})[e.logkey]||[],o=a.length,r=0;r<o;r++)if(a[r].hash_value===e.hash_value)return!0;return!1}function In(e,t){try{var n=e?e.element:{},a=e.hash_value||"";n&&n.setAttribute&&n.setAttribute(t,a)}catch(e){}}var kn=window,On=["iframe","html","body","head"],Nn=Wt,Mn=function(e){var t=[],n=e?rt.tryToGet(e,Nn):"";if(n){var a=(x("_aplus_ac")||{})._acHashMap||{};d.eachMap(a,(function(e,a){l.each(a,(function(e){e.hash_value===n&&t.push(e.clkConfig)}))}))}return{clkConfigs:t,el:e}},xn=function(e){var t=(e=e||kn.event).target||e.srcElement,n=M(O()),o=M(N()),r=function(e){var t=Mn(e);if(t&&t.clkConfigs&&t.clkConfigs.length>0)return t;for(;(e=e.parentNode)&&-1===l.indexOf(On,e.tagName?it.getDomName(e,"tagName"):"html");)if((t=Mn(e))&&t.clkConfigs&&t.clkConfigs.length>0)return t}(t)||{},i=r.clkConfigs;r&&i&&r.el&&l.each(i,(function(i){var s=i;t=r.el;!n.spm_ab||n.spm_ab.join(".");kn.g_SPM&&"function"==typeof kn.g_SPM.spm&&kn.g_SPM.spm(t);var c={is_auto:1},u={},l=fn(s,t,u);l=pn(s,t,u);l=hn(s,t,u);l=d.assign(l,dn(t));s.customArgs&&(l=d.assign(l,s.customArgs));var f=function(){var e=Qt("aplus-auto-clk-userfn");if(e){var t=window[e]||e;if("function"==typeof t)return t}return null}();if(f){var p=bn(f,t,s.elementSelector,e);if("object"===a(p)){"object"===a(p.userdata)&&(l=d.assign(l,p.userdata));p.spm&&p.spm;p.scm&&p.scm}else if(!1===p)return}if((c=d.assign(c,l)).pagename){c.page_name=c.pagename;delete c.pagename}var g=s.method||"POST";o.push({action:"".concat(O(),".record"),arguments:[s.logkey,"CLK",c,g]})}))};function Rn(){it.isTouchEnabled()?ct.on(document,"tap",xn):ct.on(document,"mousedown",xn)}var Ln=window,Dn=document,Un=P.extend({eachElements:function(e,t){for(var n=t.logkey||"",a=M(O()),o=0;o<e.length;o++){var r=e[o];t._pos_id&&!r.getAttribute("data-aplus-pos-id")&&r.setAttribute("data-aplus-pos-id",t._pos_id);var i=r.getAttribute(Wt);if(!(i&&i.indexOf("_")>0)){if(isNaN(parseInt(i,10))){i=a._aplus_ac.elementSelectorSizeMap[t.elementSelector]++;r.setAttribute(Wt,i)}if(t.spmB&&t.spmC&&t.spmD){r.setAttribute(Kt,[t.spmB,t.spmC,"".concat(t.spmD,"_").concat(o+1)].join("."));r.setAttribute(zt,"".concat(o+1))}var s=An(t,{ignore_attr:!1,index:i,ele:r});if(!Cn({logkey:n,hash_value:s,aplusKey:"_aplus_ac"})){var c={clkConfig:t,hash_value:s,element:r,status:0,elementSelector:t.elementSelector};wn(n,c,"ADD");In(c,Wt)}}}},handler_dom_change:function(){for(var e=M(O()),t=this.autoClkConfig||[],n=0;n<t.length;n++){var a=t[n];e._aplus_ac.elementSelectorSizeMap[a.elementSelector]||(e._aplus_ac.elementSelectorSizeMap[a.elementSelector]=1);var o=un(a,Dn);this.eachElements(o,a)}},throttle_handler_dom_change:Pn((function(){this.handler_dom_change()}),200),init_observer:function(e,t){var n=M(O()),a=new e((function(){Ft((function(){++(n._aplus_ac||{}).observer_times;t()}))}));a.observe(Dn.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0});ln&&T().w("aplus_ac init MutationObserver success!");this._observer=a},init_watch_dom:function(){var e=this,t=M(O())._aplus_ac||{};e._loop_observer=setTimeout((function(){if("blur"!==t.current_win_status){ln&&T().w("watch_dom in ac LOOP_TIME is ".concat(Yt,"ms total: ").concat(++t.watch_times));e.throttle_handler_dom_change();e.init_watch_dom()}else t.watch_dom_running=!1}),Yt)},onFocusHandler:function(){var e=M(O())._aplus_ac||{};e.current_win_status="focus";e.watch_dom_running||this.init_watch_dom()},onBlurHandler:function(){(M(O())._aplus_ac||{}).current_win_status="blur"},onVisibilityChange:function(){"visible"===Dn.visibilityState?this.onFocusHandler():"hidden"===Dn.visibilityState&&this.onBlurHandler()},addAllListener:function(){var e=this,t=M(O())._aplus_ac||{};t.watch_times=0;t.watch_dom_running=!0;e.init_watch_dom();if(Ln.WindVane&&Dn.addEventListener){ct.on(Dn,"WV.Event.APP.Active",e.onFocusHandler,!1);ct.on(Dn,"WV.Event.APP.Background",e.onBlurHandler,!1)}if("hidden"in Dn)ct.on(Ln,"visibilitychange",e.onVisibilityChange);else{ct.on(Ln,"blur",e.onBlurHandler);ct.on(Ln,"focus",e.onFocusHandler)}},removeAllListener:function(){var e=this;if(Ln.WindVane&&Dn.removeEventListener){ct.un(Dn,"WV.Event.APP.Active",e.onFocusHandler,!1);ct.un(Dn,"WV.Event.APP.Background",e.onBlurHandler,!1)}if("hidden"in Dn)ct.un(Ln,"visibilitychange",e.onVisibilityChange);else{ct.un(Ln,"blur",e.onBlurHandler);ct.un(Ln,"focus",e.onFocusHandler)}},init:function(){var e=this,t=M(O())._aplus_ac||{};e.throttle_handler_dom_change();var n=Ln.MutationObserver||Ln.WebKitMutationObserver||Ln.MozMutationObserver;if(n){t.observer_times=0;e.init_observer(n,(function(){e.throttle_handler_dom_change()}))}else e.addAllListener()},clearDom:function(e,t){var n=this.autoClkConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var a=0;a<n.length;a++)try{for(var o=n[a].elementSelector,r=Dn.querySelectorAll(o),i=0;i<r.length;i++)r[i].setAttribute(Wt,"")}catch(e){}this.autoClkConfig=e&&e.autoClkConfig},clear:function(e){if(!e||"appendMetaInfo"!==e.from){var t=M(O()),n=t._aplus_ac||{};n._acHashMap&&(n._acHashMap={});n.hash_value&&(n.hash_value={});t._aplus_ac=n;if(this._loop_observer){clearTimeout(this._loop_observer);this._loop_observer=null}this._observer?this._observer.disconnect():this.removeAllListener()}},reset:function(e,t){this.clearDom(e,t);this.init()}});function jn(e){var t,n=M(O()),a=!1;setTimeout((function(){a||T().w("sdk_ac_init failed! please check whether aplusJs is loaded correctly!")}),5e3);M(N()).push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(e){"complete"===e&&function(){if(!a){Ft((function(){var e;if((t=rn())&&t.length>0){(e=Un.create({autoClkConfig:t})).init();Rn()}n[Q.SDK_PUB].subscribe("setMetaInfo",(function(n,a,o){if("aplus-auto-clk"===n){var r=rn(a);if(JSON.stringify(r)===JSON.stringify(t))return;t=r;o||(o={from:"setMetaInfo"});e&&e.clear(o);e&&e.clearDom({autoClkConfig:t},o);if(a)if(e)e.reset({autoClkConfig:t},o);else{(e=Un.create({autoClkConfig:t})).init();Rn()}}}))}));a=!0}}()}]});"function"==typeof e&&e()}var Bn=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){!function(){var e=M(O());if(e._aplus_ac);else{e._aplus_ac={status:"init",elementSelectorSizeMap:{}};jn((function(){e._aplus_ac.status="complete"}))}}()}}]);return e}(),Vn=ie(Object.freeze({__proto__:null,default:Bn})),Gn=document,Fn=function(e,t){return t.x>=e.pLeftTop[0]&&t.x<=e.pRightBottom[0]&&t.y>=e.pLeftTop[1]&&t.y<=e.pRightBottom[1]},Hn=function(e,t){var n=0,a=Fn(e,t),o=Fn(e,{x:t.x+t.width,y:t.y}),r=Fn(e,{x:t.x,y:t.y+t.height}),i=Fn(e,{x:t.x+t.width,y:t.y+t.height});return(n=function(){var e=0;a&&i&&(e=t.size/t.size);return e}())>0||(n=function(){var n=0,s=0;if(a&&o&&!r&&!i){n=t.width;s=e.pLeftBottom[1]-t.y}else if(!a&&o&&!r&&i){n=e.pLeftTop[0]-t.x;s=t.y}else if(!a&&!o&&r&&i){n=t.width;s=t.height-Math.abs(e.pLeftTop[1]-t.y)}else if(a&&!o&&r&&!i){n=e.pRightTop[0]-t.x;s=t.height}return t.size>0?Math.abs(n*s)/t.size:0}())>0?n:n=function(){var n=0,s=0;if(!a||o||r||i)if(a||!o||r||i)if(a||o||!r||i){if(!a&&!o&&!r&&i){n=e.pLeftTop[0]-t.x;s=e.pLeftTop[1]-t.y}}else{n=e.pRightTop[0]-t.x;s=e.pRightTop[1]-t.y}else{n=e.pLeftBottom[0]-t.x;s=e.pLeftBottom[1]-t.y}else{n=e.pRightBottom[0]-t.x;s=e.pRightBottom[1]-t.y}return t.size>0?Math.abs(n*s)/t.size:0}()};function Wn(e,t,n){var a=0;if(e)for(var o=0;o<e.length;o++)if((a=Hn(e[o],t))<n)return!1;return a}var Kn=function(e){return"number"==typeof e&&!isNaN(e)};function zn(e){var t={};if(e){"function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()||{});Kn(t.x)||Kn(t.left)&&(t.x=t.left);Kn(t.y)||Kn(t.top)&&(t.y=t.top);Kn(t.width)||(t.width=e.offsetWidth);Kn(t.height)||(t.height=e.offsetHeight)}return t}function qn(e){var t=[];if(e&&"function"==typeof document.querySelector){var n=document.querySelector(e);if(n){var a=zn(n)||{};Kn(a.x)&&Kn(a.y)&&Kn(a.width)&&Kn(a.height)&&t.push({pLeftTop:[a.x,a.y],pRightTop:[a.x+a.width,a.y],pLeftBottom:[a.x,a.y+a.height],pRightBottom:[a.x+a.width,a.y+a.height]})}}var o=Gn.documentElement,r=Gn.body,i=o.clientWidth||r.offsetWidth||0,s=o.clientHeight||r.offsetHeight||0;t.push({pLeftTop:[0,0],pRightTop:[i,0],pLeftBottom:[0,s],pRightBottom:[i,s]});return t}function Yn(e,t,n){var a;try{if(e&&e.getAttribute){var o=e.getAttribute(n)||"";a=t?o===t:!!o}}catch(e){}return a}function Qn(e,t,n){var a=0;if(e)for(var o=0;o<e.length;o++)if((a=t/e[o].size)>=n)return a;return a}var $n,Jn=Jt,Xn=Zt,Zn=function(e){for(var t;e&&"HTML"!==e.tagName&&"none"!==(t=e.style.display);)e=e.parentNode;return"none"===t};function ea(e,t){var n=0;$n=qn();var a=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o))for(var r=a[o]||[],i=0;i<r.length;i++){var s=r[i]||{};if(0===s.status&&s.expConfig&&!Zn(s.element)){var c=zn(s.element);if(c.width&&c.height){s.x=c.x;s.y=c.y;s.eventType=t;s.width=c.width;s.height=c.height;s.size=c.width*c.height;var u=void 0;s.expConfig.positionSelector&&(u=qn(s.expConfig.positionSelector));var l=Wn(u||$n,s,Jn),f=l>=Jn,p=l;u&&(p=Wn($n,s,Jn));var g=s.width*s.height*p,d=Qn($n,g,Xn),h=Yn(s.element,s.hash_value,"_aplus_auto_exp");if((f||d>=Xn)&&!h){s.exposureTime=e;s.status=1;var _=an();_&&(s.userParams=bn(_,s.element,s.elementSelector,s.expConfig));if(!en){s.viewabilityRate=f?l:d;s.viewability=f?"intersection":"fillwindow";s.status=2}En(o,s,"UPDATE");++n}}}}return n}function ta(e,t){var n=0;$n||($n=qn());var a=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var o in a)if(Object.prototype.hasOwnProperty.call(a,o))for(var r=a[o]||[],i=0;i<r.length;i++){var s=r[i]||{};if(1===s.status&&s.exposureTime===e&&s.expConfig){s.eventType=t;s.expConfig.positionSelector&&($n=qn(s.expConfig.positionSelector));var c=Wn($n,s,Jn),u=Yn(s.element,s.hash_value,"_aplus_auto_exp");if(c&&!u){s.viewabilityRate=c;s.status=2;En(o,s,"UPDATE");++n}else{s.status=0;s.exposureTime="";En(o,s,"UPDATE")}}}return n}var na=function(e){var t="APLUS_AE_EXPOSURE_CHANGE",n=e&&e.type?e.type:"init",a=(new Date).getTime(),o=M(O()),r="".concat(O(),"_pubsub"),i=ea(a,n);i>0&&(en?setTimeout((function(){(i=ta(a,n))>0&&o[r].publish(t,{size:i,eventType:n})}),en):o[r].publish(t,{size:i,eventType:n}))},aa=Pn((function(e){na(e)}),100),oa={},ra=function(e,t){if(e&&e.forEach&&Object.keys&&document.querySelector){e.forEach((function(e){e.positionSelector&&document.querySelector(e.positionSelector)&&(oa[e.positionSelector]=!0)}));Object.keys(oa).forEach((function(e){ct[t]&&ct[t](document.querySelector(e),"scroll",(function(e){aa(e)}))}))}},ia=Object.freeze({__proto__:null,clear:function(e){ct.un(window,"touchmove",aa);ct.un(window,"scroll",aa);ct.un(window,"resize",na);ra(e,"un")},watch_exposure_change:function(e){M(O())["".concat(O(),"_pubsub")].subscribe("APLUS_AE_DOM_CHANGE",na);ct.on(window,"touchmove",aa);ct.on(window,"scroll",aa);ct.on(window,"resize",na);ra(e,"on")}}),sa=Jt,ca=Zt,ua=window.IntersectionObserver,la={};function fa(e,t){var n="APLUS_AE_EXPOSURE_CHANGE",a=e&&e.type?e.type:"IObserver",o=(new Date).getTime(),r=M(O()),i="".concat(O(),"_pubsub"),s=0;s=t?ea(o,e):function(e,t,n){var a=qn(),o=0,r=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))for(var s=r[i]||[],c=0;c<s.length;c++){var u=s[c]||{};u.eventType="IObserver";var l=!!n||u.element===t.target;if(0===u.status&&u.expConfig&&l){var f=t.boundingClientRect||{};f.width||f.height||(f=t.target.getBoundingClientRect()||{});if(f.width&&f.height){(u=d.assign(u,f)).x=f.x||f.left;u.y=f.y||f.top;u.width=f.width;u.height=f.height;u.size=f.width*f.height;var p=Yn(u.element,u.hash_value,"_aplus_auto_exp"),g=Qn(a,u.width*u.height*t.intersectionRatio,ca);if(!p){var h=t.intersectionRatio>=sa;if(h||g>=ca){u.exposureTime=e;u.status=1;var _=an();_&&(u.userParams=bn(_,u.element,u.elementSelector));u.viewabilityRate=h?t.intersectionRatio:g;u.viewability=h?"intersection":"fillwindow";en||(u.status=2);En(i,u,"UPDATE");++o}else g&&En(i,d.assign(s[c],{lastEventType:u.eventType}),"UPDATE")}}}}return o}(o,e);s>0&&(en?setTimeout((function(){(s=ta(o,a))>0&&r[i].publish(n,{size:s,eventType:a})}),en):r[i].publish(n,{size:s,eventType:a}))}function pa(e){var t={root:null,rootMargin:"0px",threshold:sa};return new ua((function(e){l.each(e,(function(e){e.intersectionRatio>0&&fa(e)}))}),d.assign(t,e))}function ga(e){if(ua){la.io_base||(la.io_base=pa());var t=(x("_aplus_auto_exp")||{})._acHashMap||{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))for(var a=t[n]||[],o=0;o<a.length;o++){var r=a[o]||{};if(!r.inObserver){var i="io_v_".concat(encodeURIComponent(r.positionSelector)),s=void 0;if(r.positionSelector&&!la[i]){s=pa({root:document.querySelector(r.positionSelector),expConfig:e});la[i]=s}s?s.observe(r.element):la.io_base.observe(r.element);r.inObserver=!0}}}return!0}var da=Object.freeze({__proto__:null,clear:function(e,t){if(t&&"appendMetaInfo"!==t.from)for(var n in la)la[n].disconnect()},watch_exposure_change:function(e){M(O())["".concat(O(),"_pubsub")].subscribe("APLUS_AE_DOM_CHANGE",(function(){ga(e)}));ga(e)}});function ha(e,t,n){var a="0";if(n){if("spmc"===e){var o=n.split(".");a=o[2]?o[2]:o[3];/^(\i|\d)[0-9]+$/.test(a)&&(a="0");n=[o[0],o[1],a].join(".")}}else{n="";var r=window.g_SPM||{};if("function"==typeof r.getParam){var i=r.getParam(t);if("spmc"===e){a=t.getAttribute("data-spm")||"0";n=[i.a,i.b,a].join(".")}else n=[i.a,i.b,i.c,i.d].join(".")}}return n}var _a,ma,va=function(e){var t=M(O()),n="".concat(O(),"_pubsub"),a=(x("_aplus_auto_exp")||{})._acHashMap||{},o=[];d.eachMap(a,(function(a,r){for(var i=function(e){for(var t=[],n=function(){var n=e[a]||{},o={};d.eachMap(n,(function(e,t){"element"!==e&&(o[e]=t)}));var r=d.cloneDeep(o);r.element=n.element;t.push(r)},a=0,o=e.length;a<o;a++)n();return t}(r)||[],s=0,c=i.length;s<c;s++){var u=i[s]||{},l=r[s]||{};if(3===u.status)try{In(l,Ht);t[n].publish("APLUS_ELEMENT_EXPOSURE",{logkey:a,v_origin:l,options:e});o.push(l)}catch(e){T().w(e&&e.message)}}for(;o.length>0;)En(a,o.pop(),"CLEAR")}))},ya=[],ba=function(e){if(e.size>0){_a||function(){var e=M(N());_a=setInterval((function(){if(ya.length>0)e.push(ya.pop());else{clearInterval(_a);_a=null}}),200)}();!function(e,t,n){var a=e.logkeyContainer||[],o=e.request_cfg||{},r=M(N());Ft((function(){d.eachMap(a,(function(e,a){if(a&&a.length>0){for(var i=0;i<a.length;){var s={_eventType:t.eventType,_method:o.method,is_auto:1},c=a[i];for(var u in c)s[u]=c[u];if(s.pagename){s.page_name=s.pagename;delete s.pagename}var l=o.method||"POST";r.push({action:"".concat(O(),".record"),arguments:[e,"EXP",s,l]});i+=1}n(t)}}))}))}(function(){var e={},t={method:"POST",pkgSize:10},n=M(O()),o=x("_aplus_auto_exp")||{},r=o._acHashMap||{};d.eachMap(r,(function(r,i){for(var s=i||[],c=0,u=s.length;c<u;c++){var l=s[c]||{};if(2===l.status){l.status=3;En(r,l,"UPDATE");o.exp_times++;var f=l.expConfig||{},p=(n.spm_ab&&n.spm_ab.join("."),void ha(f.eltype,l.element));try{p=Number(l.viewabilityRate).toFixed(2)}catch(e){p=l.viewabilityRate}var g={_w:l.width,_h:l.height,_x:l.x,_y:l.y,_rate:p,_viewability:l.viewability};if("object"===a(l.userParams)){"object"===a(l.userParams.userdata)&&(g=d.assign(g,l.userParams.userdata));l.userParams.spm&&ha(f.eltype,"",l.userParams.spm);l.userParams.scm&&l.userParams.scm}(_n(f.method)||mn(f.pkgSize))&&(t=vn(f));var h,_=fn(f,l.element,g);_=pn(f,l.element,g);_=d.assign(_,dn(l.element));var m=hn(f,l.element,g);_=d.assign(_,m);f.customArgs&&(_=d.assign(_,f.customArgs));h=_;e[r]||(e[r]=[]);e[r].push(h)}}}));return{logkeyContainer:e,request_cfg:t}}()||{},e,va)}};function Aa(){M(O())["".concat(O(),"_pubsub")].subscribe("APLUS_AE_EXPOSURE_CHANGE",ba);!function(){if(!ma){ma=!0;var e=M(O()),t=M(N());e.on(window,"beforeunload",(function(){clearInterval(_a);for(var e=0;e<ya.length;e++)t.push(ya[e])}))}}()}var Sa,Ea,wa=window,Ta=document,Pa=P.extend({eachElements:function(e,t){for(var n=M(O()),a=t.logkey||"",o=0;o<e.length;o++){var r=e[o],i=r.getAttribute(Ht);if(!(i&&i.indexOf("_")>0)){if(isNaN(parseInt(i,10))){i=n._aplus_auto_exp.elementSelectorSizeMap[t.elementSelector]++;r.setAttribute(Ht,i)}if(t.spmB&&t.spmC&&t.spmD){r.setAttribute(Kt,[t.spmB,t.spmC,"".concat(t.spmD,"_").concat(o+1)].join("."));r.setAttribute(zt,"".concat(o+1))}var s=An(t,{ignore_attr:!1,index:i,ele:r}),c=Yn(r,s,Ht),u=Cn({logkey:a,hash_value:s,aplusKey:"_aplus_auto_exp"});c||u||En(a,{expConfig:t,hash_value:s,element:r,status:0,elementSelector:t.elementSelector},"ADD")}}},handler_dom_change:function(e,t){try{var n=this;setTimeout((function(){for(var e=M(O()),a="".concat(O(),"_pubsub"),o=n.autoExpConfig||[],r=0;r<o.length;r++){var i=o[r],s=un(i,Ta);e._aplus_auto_exp.elementSelectorSizeMap[i.elementSelector]||(e._aplus_auto_exp.elementSelectorSizeMap[i.elementSelector]=1);n.eachElements(s,i)}e[a].publish("APLUS_AE_DOM_CHANGE",t||{})}),200)}catch(e){T().w(e&&e.message)}},throttle_handler_dom_change:Pn((function(e,t){this.handler_dom_change(e,t)}),200),init_watch_dom:function(){var e=this,t=M(O())._aplus_auto_exp||{};e._loop_observer=setTimeout((function(){if("blur"!==t.current_win_status){T().w("watch_dom in ae LOOP_TIME is ".concat(Yt,"ms total: ").concat(++t.watch_times));e.handler_dom_change(null,{type:"polling"});e.init_watch_dom()}else t.watch_dom_running=!1}),Yt)},onFocusHandler:function(){var e=M(O())._aplus_auto_exp||{};e.current_win_status="focus";e.watch_dom_running||this.init_watch_dom()},onBlurHandler:function(){(M(O())._aplus_auto_exp||{}).current_win_status="blur"},onVisibilityChange:function(){"visible"===Ta.visibilityState?this.onFocusHandler():"hidden"===Ta.visibilityState&&this.onBlurHandler()},addAllListener:function(){var e=this,t=M(O())._aplus_auto_exp||{};t.watch_times=0;t.watch_dom_running=!0;e.init_watch_dom();if(wa.WindVane&&Ta.addEventListener){ct.on(Ta,"WV.Event.APP.Active",e.onFocusHandler);ct.on(Ta,"WV.Event.APP.Background",e.onBlurHandler)}if("hidden"in Ta)ct.on(wa,"visibilitychange",e.onVisibilityChange);else{ct.on(wa,"blur",e.onBlurHandler);ct.on(wa,"focus",e.onFocusHandler)}},removeAllListener:function(){var e=this;if(wa.WindVane&&Ta.removeEventListener){ct.un(Ta,"WV.Event.APP.Active",e.onFocusHandler,!1);ct.un(Ta,"WV.Event.APP.Background",e.onBlurHandler,!1)}if("hidden"in Ta)ct.un(wa,"visibilitychange",e.onVisibilityChange);else{ct.un(wa,"blur",e.onBlurHandler);ct.un(wa,"focus",e.onFocusHandler)}},init_observer:function(e,t){var n=["IFRAME","BODY","OBJECT","SCRIPT","NOSCRIPT","LINK","STYLE","#comment"],a=["class","style"],o=function(e){return"characterData"===e.type||"attributes"===e.type&&a.indexOf(e.attributeName)>-1?[e.target]:"childList"!==e.type?[]:void 0},r=function(e,a){if(e&&e.length>0)for(var o=M(O()),r=function(){var r=e[i]||{},s=r.nodeName,c=o._aplus_auto_exp.tags||{};c[s]||(c[s]=0);c[s]++;o._aplus_auto_exp.tags=c;-1===n.indexOf(s)&&Ft((function(){++(o._aplus_auto_exp||{}).observer_times;var e=a.attributeName;t(r,{type:a.type+(e?"_".concat(e):"")})}))},i=0;i<e.length;i++)r()};this._observer||(this._observer=new e((function(e){if(e&&e.length>0)for(var t=0;t<e.length;t++){var n=e[t]||{},a=it.nodelistToArray(n.addedNodes||[]);a=it.nodelistToArray(o(n));r(a,n)}})));this._observer.observe(Ta.body,{attributes:!0,childList:!0,characterData:!0,subtree:!0});ln&&T().w("aplus_auto_exp init MutationObserver success!")},init:function(e){var t=this,n=M(O())._aplus_auto_exp||{};e&&"reset"!==e.type&&!n.hash_value&&(n.hash_value={});t.handler_dom_change(null,{type:"aplus_init"});var a=wa.MutationObserver||wa.WebKitMutationObserver||wa.MozMutationObserver;if(a){n.observer_times=0;t.init_observer(a,(function(e,n){var a=e&&e.parentElement?e.parentElement:e;t.throttle_handler_dom_change(a,n)}))}else t.addAllListener()},clear:function(e){if(!e||"appendMetaInfo"!==e.from){var t=M(O()),n=t._aplus_auto_exp||{};n._acHashMap&&(n._acHashMap={});n.hash_value&&(n.hash_value={});t._aplus_auto_exp=n;if(this._loop_observer){clearTimeout(this._loop_observer);this._loop_observer=null}if(this._observer){this._observer.takeRecords();this._observer.disconnect()}else this.removeAllListener()}},clearDom:function(e,t){var n=this.autoExpConfig||[];if(t&&"appendMetaInfo"!==t.from)for(var a=0;a<n.length;a++)try{for(var o=n[a].elementSelector,r=Ta.querySelectorAll(o),i=0;i<r.length;i++)r[i].setAttribute(Ht,"")}catch(e){}this.autoExpConfig=e&&e.autoExpConfig?e.autoExpConfig:[]},reset:function(e,t){this.clearDom(e,t);this.init({type:"reset"})}});function Ca(e,t){Aa();Sa.watch_exposure_change(e);var n={isThrottleWatch:on(),autoExpConfig:e};Ea?Ea.reset(n,t):(Ea=Pa.create(n)).init({type:"init"})}function Ia(e,t){M(O())["".concat(O(),"_pubsub")].unsubscribe("APLUS_AE_EXPOSURE_CHANGE",ba);Sa.clear(e,t);Ea&&Ea.clear(t)}function ka(e){var t,n=M(O()),a="".concat(O(),"_pubsub"),o=!1,r=!1;setTimeout((function(){o||T().w("aplus_auto_exp_init failed! please check whether aplusJs is loaded correctly!")}),5e3);M(N()).push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(e){"complete"===e&&function(e){if(!r){r=e;if(!o){Ft((function(){(t=nn()||[])&&t.length>0&&Ca(t);n[a].subscribe("setMetaInfo",(function(e,n,a){if("aplus-auto-exp"===e){var o=nn(n);if(JSON.stringify(o)===JSON.stringify(t))return;a||(a={from:"setMetaInfo"});Ia(t=o,a);n&&t&&t.length>0&&Ca(t,a)}}))}));o=!0}}}(Q.SDK_READY)}]});"function"==typeof e&&e()}function Oa(){var e=M(O()),t=M(N());if(!e._aplus_auto_exp){e._aplus_auto_exp={tags:{},status:"init",exp_times:0,elementSelectorSizeMap:{}};Sa=window.IntersectionObserver?da:ia;ka((function(){e._aplus_auto_exp.status="complete"}));t.push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(t){if("complete"===t)try{e.getMetaInfo(Z.APLUS_EXPOSURE_EVENT_CAN_REPEAT)&&B("APLUS_AE_PAGE_CHANGE",(function(){var e=nn()||[];Ia(e,{from:"routeChange"});Ca(e,{from:"routerChange"})}))}catch(e){}}]})}}var Na=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){Oa()}}]);return e}(),Ma=ie(Object.freeze({__proto__:null,default:Na})),xa=P.extend({subscribeLogs:function(e,t){de.pushIntoGoldlogQueue(Q.SUBSCRIBE,[e,function(e){e.status===Q.COMPLETE&&t(e)}])},getLogicSymbol:function(){return"ALI"===this.format?"&":"||"},handlerMiddleware:function(){},watchLOG:function(){var e=this;e.subscribeLogs(Q.MW_CHANGE_PV,(function(t){e.handlerMiddleware(t,"pv")}));e.subscribeLogs(Q.MW_CHANGE_HJLJ,(function(t){e.handlerMiddleware(t,O())}))},run:function(){this.watchLOG()}});function Ra(e,t){if("string"!=typeof e||!e){T().w("event logkey is invalid, id =",e||"'' event properties = ",h.stringfy(t.cusp));return null}var n=Object.create(null),o=Date.now();n.id=e;t&&t.ts||(n.ts=o);t&&t.uuid||(n.uuid=ht.getUUID());if("object"===a(t))for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function La(e,t){var n=M(O()).getMetaInfo("pageConfig")||{},o=e;n.hashMode&&(o=t);try{if(n&&"object"===a(n))for(var r in n){if(r===o)break;if(n[r]&&n[r].regRule&&n[r].regRule.test(o)){o=r;break}}}catch(e){T().w("parse pageConfig err =",e)}return n[o]||{}}function Da(e,t){try{var n=t||{},a=M(O()),o=La(e,pt.retrenchHash(location.hash)).pageName,r=a.getMetaInfo&&(a.getMetaInfo("qt-pagename")||a.getMetaInfo("aplus-pagename"))||"",i=a.getMetaInfo&&(a.getMetaInfo("qt-dynamicpage")||a.getMetaInfo("aplus-dynamicpage")),s=location.href;i&&_(i)&&E.isString(i())&&(s=i());var c=location.href.split("?")[0],u=c;if(s.split("?").length>1){var l=s.split("?")[1],f=l.indexOf("/"),p=l.indexOf("#/"),g=-1;p>-1&&f>-1?p<f?g=p:p>f&&(g=f):f>-1?g=f+1:p>-1&&(g=p);if(g>-1){var d=l.substring(g),h=d.indexOf("?");h>-1&&(d=d.substring(0,h));u=E.isEndWith(c,"/")&&E.isStartWith(d,"/")?c+d.substring(1):E.isEndWith(c,"/")||E.isStartWith(d,"/")?c+d:"".concat(c,"/").concat(d)}}return n.spmB||n.page_name||document&&document.body&&document.body.dataset&&document.body.dataset.pagename||r||o||u||""}catch(e){T().w("get pagename failed e =",e)}}function Ua(e,t){var n,a=t||{},o=La(e,pt.retrenchHash(location.hash)),r=d.assign({},o),i=(r=d.assign(r,a)).extData;_(i)?n=i():i&&(n=Object.keys(i).reduce((function(e,t){e[t]=_(i[t])?i[t]():i[t];return e}),{}));return n||{}}function ja(e,t){var n=t||{},a=La(e,pt.retrenchHash(location.hash));return n.page_title||a.pageTitle||document.title||""}function Ba(e){if(!e)return{};try{var t=document.createElement("a");t.href=e;var n=La(t.pathname,pt.retrenchHash(t.hash)).pageName,a=t.origin+t.pathname+(t.hash||"");return{page_name:n||a||"",host:t.origin}}catch(e){return""}}var Va={sessions:"sn",ekvs:"e",active_user:"active_user"},Ga={uuid:"ud",unionid:"und",openid:"od",anonymousid:"nd",alipay_id:"ad",device_id:"dd",userid:"puid"},Fa={sdk_type:"sdt",device_model:"dm",language:"lang",device_type:"dt",os_version:"ov",appkey:"ak",sdk_version:"sv",resolution:"rl",testToken:"ttn",pixel_ratio:"pr",_id:"id",id_type:"it",id_tracking:"itr",imprint:"imp",debugId:"dk",access:"ac",access_subtype:"acs",device_manufacturer:"dmf",device_name:"dn",platform_version:"pv",font_size_setting:"fss",device_manuid:"did",platform_sdk_version:"psv",device_brand:"db"};function Ha(e,t){var n={};for(var a in e)t[a]?n[t[a]]=e[a]:n[a]=e[a];return n}function Wa(e,t){var n=Ha(e,t);e&&e.id_tracking&&(n[t.id_tracking||"id_tracking"]=Ha(e.id_tracking,Ga));return n}function Ka(e,t){var n={};if(e)for(var a in e)e[a]&&(n[t[a]]=e[a]);return n}function za(e,t){var n=M(O()),o=n.deviceInfo||{};n.appendMetaInfo("globalproperty",function(){var e={},t=lt.getQueryFromUrl()||{};try{d.eachMap(t,(function(t,n){0===t.indexOf("utm_")&&(e[t]="".concat(n))}));var n=M(O()),a=n.getMetaInfo&&n.getMetaInfo(Z.APLUS_UTM_EXPIRE_DAYS);(!a||"number"!=typeof a||a<=0)&&(a="session");var o=st.getCookie(Z.APLUS_LATEAST_UTM),r=w.query2obj(decodeURIComponent(o));d.isEmptyObject(e)?e=r||{}:o&&h.stringfy(e)===h.stringfy(r)||st.setCookie(Z.APLUS_LATEAST_UTM,w.obj2queryStr(e),{expires:a})}catch(e){}return e}());if(!e||!t||d.isEmptyObject(e)||d.isEmptyObject(t))return{};var r={},i=d.cloneDeep(function(e){var t={};t.sdk_type=e.sdk_type;t.appkey=e.appkey;t.sdk_version=e.sdk_version;t.device_type=e.device_type;t.os=e.os;t.os_version=e.os_version;t.platform=e.platform;t.pixel_ratio=e.pixel_ratio;t.resolution=e.resolution;t.language=e.language;t.app_version=e.app_version;t.jsver=e.jsver;t.pre=e.pre;t.url=e.url;t.debugId=e.track_debug_id;t.id_tracking={};t.timezone=ht.getTimeZone();return t}(e)),s=n.getMetaInfo(Q._ANONY_ID)||e.cna||st.getCna()||ut.get("cna");s&&(i.id_tracking.anony_id=s);i.id_tracking._abfpc=o._abfpc||ut.getLocalStorageFP()||st.getCookieFP();var c=n.getMetaInfo("_dev_id")||e.cna;c&&(i.id_tracking.dev_id=c);var u=n.getMetaInfo("openid");u&&(i.id_tracking.openid=u);var l=null;l="2001"===e.event_code?function(e,t){var n=M(O()).getMetaInfo("globalproperty"),a={};a.r=e.arg1;a.gp=n;a.is_auto=e.is_auto?1:0;a.track_type=e.track_type||"0";if(t._vt){a._vt=t._vt;delete t.track_type;delete t._vt}var o=t,r=d.cloneDeep(d.deleteKeys(d.cloneDeep(o),["_anony_id","_dev_id","_session_id","_user_id","_user_nick","_src_pos_id","cna","_abfpc","aplus_track_debug_id"]));if(r.duration){a.duration=r.duration;delete r.duration}r=d.assign(r,Ua(location.pathname,r));if(e.url){a.page_name=Da(location.pathname,r);a.page_title=ja(location.pathname,r);a.url=e.url;a["spm-cnt"]=encodeURIComponent(a.page_name)}var i=lt.getAParamFromUrl("scene",location.href);i&&(a.scene=i);if(e.pre){a.ref_url="-"!==e.pre?e.pre:"";var s=Ba(a.ref_url);a.ref_page_name=s.page_name||"";a.ref_host=s.host||""}a.rank=ht.RankUtils.rank();var c={};if(r.transp){c.transp=d.cloneDeep(r.transp);delete r.transp}c.cusp=r;return Ra(Z.PAGE_START,d.assign(a,c))}(e,t):function(e,t){var n=M(O());try{var o={},r=n.getMetaInfo("globalproperty");o.gp=r;var i,s=t.gokey;if((i="string"==typeof s?ht.arr2obj(ht.param2arr(s)):"object"===a(s)?d.cloneDeep(s):{}).targetAppKey){o.targetAppKey=i.targetAppKey;delete i.targetAppKey}if(i._vt){o.track_type="2";o._vt=i._vt;o.is_auto=1;delete i.track_type;delete i._vt}else if(i.is_auto||-1!==[Z.PAGE_LEAVE,Z.PAGE_STAY].indexOf(t.logkey)){o.is_auto=1;o.track_type="1";delete i.is_auto}else{o.is_auto=0;o.track_type="0"}if(o.is_auto){delete i["aplus-ae"];delete i["aplus-clk"];delete i.auto_element;e.event_code&&(o.event_type_id=e.event_code)}if(i.ap){o.ap=i.ap;delete i.ap}if(e.url){o.page_name=Da(location.pathname,i);o.page_title=ja(location.pathname,i);o.url=e.url||"-";if(o.page_name&&i.spmC){o["spm-cnt"]=[encodeURIComponent(o.page_name),encodeURIComponent(i.spmC),encodeURIComponent(i.spmD)].filter((function(e){return!!e})).join(".");delete i.spmC;delete i.spmD;delete i.spmB}}if(e.pre){o.ref_url="-"!==e.pre?e.pre:"";var c=Ba(o.ref_url);o.ref_page_name=c.page_name||"";o.ref_host=c.host||""}var u=d.cloneDeep(i);for(var l in u)"string"==typeof l&&E.isStartWith(l,"_")&&(o[l]=u[l]);o.rank=ht.RankUtils.rank();if(t.logkey===Z.PAGE_LEAVE){o.amount=o.rank;o.duration=Date.now()-n[Z.START_TIME]}else if(t.logkey===Z.PAGE_STAY){o.duration=i.duration;delete i.duration}var f=lt.getAParamFromUrl("scene",location.href);f&&(o.scene=f);var p={cusp:i};return Ra(t.logkey,d.assign(o,p))}catch(e){T().w("JSON parse failed",e);return{}}}(e,t);if(l){r={analytics:{ekvs:{sessionid:[d.cloneDeep(l)]}}};var f=n.getMetaInfo(Q._USER_ID);f&&r.analytics&&(r.analytics.active_user={puid:f});r.header=d.assign(i,{ts:Date.now(),traceId:E.getRandomStr(10)+Date.now()+E.getRandomStr(9)});try{var p=n.start_id||"";if(p)r.header.start_id=p;else{p=ht.getStartId();n.start_id=p;r.header.start_id=p}}catch(e){}var g=function(e){return{h:Wa(e.header,Fa),a:Ka(e.analytics,Va)}}(r);T().i("event data: ",g);return g}}var qa,Ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qa=function(e){for(var t={},n=0,a=e.length;n<a;n++)t[e.charAt(n)]=n;return t}(Ya),$a=String.fromCharCode,Ja=function(e){var t;if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?$a(192|t>>>6)+$a(128|63&t):$a(224|t>>>12&15)+$a(128|t>>>6&63)+$a(128|63&t);t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return $a(240|t>>>18&7)+$a(128|t>>>12&63)+$a(128|t>>>6&63)+$a(128|63&t)},Xa=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Za=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[Ya.charAt(n>>>18),Ya.charAt(n>>>12&63),t>=2?"=":Ya.charAt(n>>>6&63),t>=1?"=":Ya.charAt(63&n)].join("")},eo=function(e){return t=function(e){return e.replace(Xa,Ja)}(e),t.replace(/[\s\S]{1,3}/g,Za);var t},to=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),no=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return $a(55296+(t>>>10))+$a(56320+(1023&t));case 3:return $a((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return $a((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},ao=function(e){var t=e.length,n=t%4,a=(t>0?Qa[e.charAt(0)]<<18:0)|(t>1?Qa[e.charAt(1)]<<12:0)|(t>2?Qa[e.charAt(2)]<<6:0)|(t>3?Qa[e.charAt(3)]:0),o=[$a(a>>>16),$a(a>>>8&255),$a(255&a)];o.length-=[0,0,2,1][n];return o.join("")},oo=function(e){return t=function(e){return e.replace(/[\s\S]{1,4}/g,ao)}(e),t.replace(to,no);var t},ro={encode:function(e,t){return t?eo(String(e)).replace(/[+\/]/g,(function(e){return"+"===e?"-":"_"})).replace(/\=/g,""):eo(String(e))},decode:function(e){return oo(String(e).replace(/[-_]/g,(function(e){return"-"===e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))}},io=xa.extend({encodeData:function(e,t,n){var a=M(O()),o=d.cloneDeep(e);if(t){var r=a.getMetaInfo(Z.APLUS_FORWARD_APPKEY);r&&(o.h.ak=r)}o=ro.encode(h.stringfy(o));"POST"===n&&navigator&&navigator.sendBeacon||(o="d=".concat(encodeURIComponent(o)));return o},handlerMiddleware:function(e){var t=M(O());if(!t.getMetaInfo(Z.JSBRIDGE_ONLY)){var n=location&&(location.href.match(/debugMode=(true|false)/)||location.href.match(/debugMode=(true|false)/))||[],a=t.getMetaInfo("DEBUG")||n[1];T().setDebug(!!a);var o=function(e){var t=M(O()),n=e.event_timestamp.getTime().toString(),a=e.client||{},o=a.language||"-",r=e.gokey||{},i=JSON.stringify(r),s=JSON.stringify({customSdkId:e.sdk_info.customSdkId||"",platform_type:e.sdk_info.platformType||""}),c=e.appKey||e.appId||"-",u=JSON.stringify({appId:a.appId||t.getMetaInfo("miniAppId")||""}),l=JSON.stringify(e.sessionArgs||{}),f=JSON.stringify(e.globalArgs||{}),p=e.arg1||e.logkey||"-";0===p.indexOf("/$$_")&&(p=p.substring(1,p.length));"2001"===e.event_code&&e.trackerEventCode&&(p=e.trackerEventCode);var g={};g.platform=e.sdk_info.platformType||"";g.sdk_type=g.platform?"".concat(g.platform,"mp"):"";g.appkey=c;g.sdk_version=e.sdk_info.lver;g.device_type=a.device_model||"";g.os=a.os||"";g.os_version=a.os_version||"";g.jsver=e.sdk_info.jsver;g.pixel_ratio=window.devicePixelRatio||"";var d=Math.round(a.screenWidth*(window.devicePixelRatio||1)),h=Math.round(a.screenHeight*(window.devicePixelRatio||1));g.resolution=d>h?"".concat(d,"*").concat(h):"".concat(h,"*").concat(d);g.language=o;g.app_version=t.getMetaInfo("appVersion")||"devtools";g.arg1=p;g.event_args=i;g.event_code=e.event_code||"";g.sessionArgs=l;g.global_args=f;g.app_ext_info=u;g.time=n;g.cna=e.cna||"";g.url=e.url||"";g.pre=e.pre||"";g.method=e.method||"GET";g.log_id=e.cache||"";g.sdk_info=s;g.is_auto=e.is_auto;g.track_type=e.track_type;var _=t.getMetaInfo("aplus-exdata");_&&_.aplus_track_debug_id&&(g.track_debug_id=_.aplus_track_debug_id);return g}(e.what_to_send.logdata),r=za(o,e.userdata),i=e.where_to_send.method;if(e.where_to_send.subDomainUrl){var s=t.getMetaInfo(Z.APLUS_FORWARD_EVENT_FILTER)||[],c=this.encodeData(r,!0,i);try{r.a.e.sessionid[0].id===Z.PAGE_START&&-1===l.indexof(s,r.a.e.sessionid[0].page_name)&&t.send(e.where_to_send.subDomainUrl,c,i);r.a.e.sessionid[0].id!==Z.PAGE_START&&-1===l.indexof(s,r.a.e.sessionid[0].id)&&t.send(e.where_to_send.subDomainUrl,c,i)}catch(e){}}if(r){T().i("event before send to: ",e.where_to_send.url);t.send(e.where_to_send.url,this.encodeData(r,!1,i),i)}}}}),so=ie(Object.freeze({__proto__:null,default:io})),co=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){so.default.create({WS:null,CTX:window,CTX_TYPE:"WEB"}).run(this.options)}}]);return e}(),uo=ie(Object.freeze({__proto__:null,default:co})),lo=function(e){for(var t=e.length,n=new Array(t-1),a=1;a<t;a++)n[a-1]=e[a];return n},fo=P.extend({callable:function(e){if(!_(e))throw new TypeError(e+" is not a function");return e},create:function(e){var t=new this;for(var n in e)t[n]=e[n];t.handlers=[];t.pubs={};return t},setHandlers:function(e){this.handlers=e},subscribe:function(e,t){this.callable(t);var n=this,a=(n.pubs||{})[e]||[];if(a)for(var o=0;o<a.length;o++){var r=a[o]();t.apply(n,r)}var i=n.handlers||[];e in i||(i[e]=[]);i[e].push(t);n.setHandlers(i);return n},unsubscribe:function(e,t){this.callable(t);try{var n=this.handlers[e];if(!n)return this;if("object"===a(n)&&n.length>0){for(var o=0;o<n.length;o++)t.toString()===n[o].toString()&&n.splice(o,1);this.handlers[e]=n}else delete this.handlers[e]}catch(e){}return this},publish:function(e){var t=lo(arguments),n=this.handlers||[],a=n[e]?n[e].length:0;if(a>0)for(var o=0;o<a;o++){var r=n[e][o];_(r)&&r.apply(this,t)}return this},cachePubs:function(e){var t=this.pubs||{},n=lo(arguments);t[e]||(t[e]=[]);t[e].push((function(){return n}))}}),po=fo.extend({subscribeOnce:function(e,t){this.callable(t);var n,a=this;this.subscribe.call(this,e,n=function(){a.unsubscribe.call(a,e,n);var o=Array.prototype.slice.call(arguments);t.apply(a,o)});return this}}),go=ie(Object.freeze({__proto__:null,default:po})),ho=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){var e=M(O()),t="".concat(O(),"_pubsub");if(!e[t]){var n=go.default.create();e[t]=n}}}]);return e}(),_o=ie(Object.freeze({__proto__:null,default:ho})),mo=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getLogConfig",value:function(){var e={},t=this.options.config.plugins,n=function(n){e[n]={plugins:t[n],context:{}};c(t[n],(function(t){e[n].context[t.name]=t.config||{}}))};for(var a in t)n(a);return e}},{key:"run",value:function(){this.options.context.logConfig=this.getLogConfig();this.options.context.logConfig.pageLoadTime=this.options.context.PAGE_LOAD_TIME}}]);return e}(),vo=ie(Object.freeze({__proto__:null,default:mo})),yo={parseSemicolonContent:function(e,t,n){t=t||{};var a,o,r=e.split(";"),i=r.length;for(a=0;a<i;a++){o=r[a].split("=");var s=E.trim(o.slice(1).join("="));t[E.trim(o[0])||""]=n?s:this.tryToDecodeURIComponent(s)}return t},getLsCna:function(e,t){if(ut.get&&ut.test()){var n="",a=ut.get(e);if(a){var o=a.split("_")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return decodeURIComponent(n)}return""},setLsCna:function(e,t,n){n&&ut.set&&ut.test()&&ut.set(e,"".concat(t,"_").concat(encodeURIComponent(n)))},getLsImpv:function(e,t){if(ut.get&&ut.test()){var n="",a=ut.get(e);if(a){var o=a.split("||")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return decodeURIComponent(n)}return""},setLsImpv:function(e,t,n){n&&ut.set&&ut.test()&&ut.set(e,"".concat(t,"||").concat(encodeURIComponent(n)))},setLsRemoteCfg:function(e,t,n){if(n&&ut.set&&ut.test()){var o=d.cloneDeep(n);"object"===a(o)&&(o=JSON.stringify(o));ut.set(e,"".concat(t,"||").concat(encodeURIComponent(o)))}},getLsRemoteCfg:function(e,t){if(ut.get&&ut.test()){var n="",a=ut.get(e);if(a){var o=a.split("||")||[];n=t?o.length>1&&t===o[0]?o[1]:"":o.length>1?o[1]:""}return h.parse(decodeURIComponent(n))}return""}},bo="httpRequest",Ao="request",So=function(){};function Eo(){try{return{ctx:dd,platType:"dd",sdkType:"ddmp",logDomain:"/ddm_logs"}}catch(e){try{return{ctx:my,platType:my&&my.tb?"taobao":"my",sdkType:my&&my.tb?"taobaomp":"mymp",logDomain:"/alipaym_logs"}}catch(e){try{return{ctx:tt,platType:"tt",sdkType:"ttmp",logDomain:"/bytedancem_logs"}}catch(e){try{return{ctx:swan,platType:"bd",sdkType:"bdmp",logDomain:"/baidum_logs"}}catch(e){try{return{ctx:wx,platType:"wx",sdkType:"wxmp",logDomain:"/wxm_logs"}}catch(e){try{return{ctx:xhs,platType:"xhs",sdkType:"xhsmp",logDomain:"/wxm_logs"}}catch(e){try{return{ctx:jd,platType:"jd",sdkType:"jdmp",logDomain:"/wxm_logs"}}catch(e){return{ctx:{},platType:"UNKNOW",sdkType:"UNKNOW"}}}}}}}}}function wo(){return Eo().platType}function To(){return Eo().ctx}function Po(){if("boolean"==typeof qa)return qa;var e=!1;try{var t=navigator?navigator.userAgent||navigator.swuserAgent:"";e=!!/AliApp/i.test(t);/AliApp\((AP|DingTalk|AMAP|UC|QUARK)/i.test(t)&&(e=!1);/AliApp\(KB/i.test(t)&&(e=!!/Mist/.test(t));/AlipayIDE Taobao/.test(t)&&(e=!0);if(e){var n=wo().ctx;_(n.canIUse)&&(e=!!n.canIUse("callUserTrack"))}}catch(e){}qa=e;return e}var Co={getPlatformType:wo,getPlatformSdkType:function(){return Eo().sdkType},getPlatformContext:To,getLogDomain:function(){return Eo().logDomain},getCurrentPage:function(){var e=getCurrentPages();return e[e.length-1]||{}},getReferrerPage:function(){var e=getCurrentPages();return e[e.length-2]||{}},resetIsTB:function(e){qa=e},initIsTB:Po,isTB:function(){return"boolean"==typeof qa?!!qa:Po()},getWxTitle:function(e){if(!e)return"";var t=wo(),n="";try{if("wx"===t&&__wxConfig){var a=__wxConfig,o=__wxConfig.page||{},r=o[e]||o[e+".html"],i={},s={};a.global&&a.global.window&&a.global.window.navigationBarTitleText&&(i.title=a.global.window.navigationBarTitleText);r&&r.window&&r.window.navigationBarTitleText&&(s.title=r.window.navigationBarTitleText);if(!s.title&&__wxAppCode__){var c=__wxAppCode__[e+".json"];c&&c.navigationBarTitleText&&(s.title=c.navigationBarTitleText)}var u=k().ctx;u[O()].globalTitleMap&&eachMap(u[O()].globalTitleMap,(function(t,a){t===e&&(n=a)}));0===n.length&&(n=s.title||i.title||"")}return n}catch(e){T().w("current platform can not track page title");return n}},setStorageSync:function(e,t){try{var n=wo(),a=To();"my"===n||"taobao"===n?a.setStorageSync({key:e,data:t}):a.setStorageSync(e,t)}catch(e){}},getStorageSync:function(e){try{var t=wo(),n=To();return"my"===t||"taobao"===t?n.getStorageSync({key:e}).data:n.getStorageSync(e)}catch(e){}},request:function(e,t,n,o){var r=M(O()),i=To();_(o)||(o=So);_(n)||(n=So);var s=t.requestMethodName||Ao,c=i[s];_(c)||s===Ao||(c=i[s=Ao]);_(c)||s===bo||(c=i[s=bo]);var u,l,f=t&&t.dataType?t.dataType:"base64",p=r.getMetaInfo(Z.APLUS_MINI_REQUEST_TIMEOUT),g=t&&t.timeout?t.timeout:p,d=t.method||"GET";e=ht.fixDomain(e);if(_(c)){var h={url:e,method:d,dataType:f,timeout:g,success:function(e){if(!u){u=!0;n(e)}},fail:function(e){if(!u){u=!0;o({failure:!0,data:e})}}};if("POST"===d&&"object"===a(t.data)){h.url=h.url.split("?")[0];if(bo===s){h.headers={"Content-Type":"application/json"};h.dataType="json";h.data=JSON.stringify(t.data)}else h.data=t.data}var m=(r=M(O())).getMetaInfo("aplus-request-extinfo");"object"===a(m)&&(h._extInfo=m);c(h)}else if(!u){u=!0;o({failure:!0,data:l})}setTimeout((function(){if(!u){u=!0;l='aplus log request"'+e+' timeout", time spend'+g+"ms";console&&console.warn(l);o({failure:!0,data:l})}}),g)},getUtmParamsObj:function(e){var t={};try{d.eachMap(e,(function(e,n){if(0===e.indexOf("utm_"))t[e]="".concat(n);else if("scene"===e&&E.isString(n)){var a=decodeURIComponent(n)||"",o=E.query2obj(a);d.eachMap(o,(function(e,n){0===e.indexOf("utm_")&&(t[e]="".concat(n))}))}}))}catch(e){}return t}},Io=function(){var e=null,t="",n=null,o=!1;function r(){var e=Co.getPlatformContext();this.load=function(a){if(n){e.removeStorage({key:t});_(a)&&a()}else{t="aplus_cache_".concat(ht.getAppKey());e.getStorage({key:t,success:function(r){n=r&&r.data&&h.parse(r.data)||{};o=!0;e.removeStorage({key:t});_(a)&&a()},fail:function(r){T().w("".concat(t,": ").concat(r.errMsg));n={};o=!0;e.removeStorage({key:t});_(a)&&a()}})}};this.save=function(){n&&e.setStorage({key:t,data:h.stringfy(n)})};this.set=function(e,t){n&&(n[e]=t)};this.get=function(e){return(n||{})[e]};this.remove=function(e){n&&n[e]&&delete n[e]};this.getAll=function(){return n};this.clear=function(){n=null};this.has=function(e){return!!this.get(e)};this.isLoaded=function(){return o};this.getSync=function(e){try{var t=Co.getStorageSync(e);return e===Z.APLUS_IMPRINT_VERSION?t:"string"==typeof t?h.parse(t):t}catch(e){}};this.setSync=function(e,t){try{"object"===a(t)?Co.setStorageSync(e,JSON.stringify(t)):Co.setStorageSync(e,t)}catch(e){}}}return function(){e||(e=new r);return e}}();function ko(e){var t;return(t=function(){try{return window}catch(e){}}()?ht.RemoteCfgUtils.get(Z.APLUS_REMOTE_CONFIG):Io().getSync(Z.APLUS_REMOTE_CONFIG))&&t[e]}function Oo(){return M(O()).getMetaInfo(Z.APLUS_DISABLE_AUTOEVENT_REMOTE)||ko("codelessClickEventStatus")}function No(){var e=M(O());return ko("currentDeviceEnable")||e.getMetaInfo(Z.APLUS_DEVICE_ENABLE)}function Mo(){return M(O()).getMetaInfo(Z.APLUS_DISABLE_AUTOPV_REMOTE)||ko("codelessCollectorPageStatus")}function xo(){return M(O()).getMetaInfo(Z.APLUS_AUTOTRACK_ENABLED_REMOTE)||ko("codelessStatus")}var Ro={getAutoEventStatus:Oo,enableCfg:function(e){var t=O(),n=M(N());if(e&&!d.isEmptyObject(e)){!function(e){var t=M(N()),n=O();t.push({action:"".concat(n,".setMetaInfo"),arguments:[Z.APLUS_DISABLE_AUTOEVENT_REMOTE,e]})}(e.codelessClickEventStatus);!function(e){var t=M(N()),n=O();t.push({action:"".concat(n,".setMetaInfo"),arguments:[Z.APLUS_DISABLE_AUTOPV_REMOTE,e]})}(e.codelessCollectorPageStatus);!function(e){var t=O();M(N()).push({action:"".concat(t,".setMetaInfo"),arguments:[Z.APLUS_AUTOTRACK_ENABLED_REMOTE,e]})}(e.codelessStatus);!function(e){var t=M(N()),n=O();t.push({action:"".concat(n,".setMetaInfo"),arguments:[Z.APLUS_DEVICE_ENABLE,e]})}(e.currentDeviceEnable);e.eventSamplingRate&&e.eventSamplingRate.length>0&&n.push({action:"".concat(t,".setMetaInfo"),arguments:[Z.APLUS_EVENT_LIMITRATES,ht.mapEventSampleRates(e.eventSamplingRate)]});e.codelessIgnoreComponent&&e.codelessIgnoreComponent.length>0&&n.push({action:"".concat(t,".setMetaInfo"),arguments:[Z.APLUS_AUTOTRACK_CONFIG_REMOTE,e.codelessIgnoreComponent]})}},getAutoTrackStatus:xo,getAutoPageStatus:Mo,getDeviceStatus:No},Lo=function(){function e(t){o(this,e);this.options=t;this.ABFPC="_abfpc";this.VERSION="2.0";this.IMPRINT_VERSION="imprintVersion"}i(e,[{key:"tryGetStoreValue",value:function(e){return{lsValue:ut.get(e),cookieValue:st.getCookie(e)}}},{key:"syncRcfg",value:function(e,t){var n=ht.getTrackDomain(),a=ht.fixDomain(n),o=it.loadScript,r=ht.getAppKey();"string"==typeof n&&n&&o("".concat(a,"/rcfg.js?_abfpc=").concat(e,"&ak=").concat(r),t)}},{key:"setImprintVersion",value:function(e){this.impv=e;if(e&&yo.getLsImpv(Z.APLUS_IMPRINT_VERSION)!==e){yo.setLsImpv(Z.APLUS_IMPRINT_VERSION,ht.date2YYMMDDHHMMSS(),e);var t=ht.getTrackDomain(),n=ht.fixDomain(t)+e;this.syncRemoteCfgData(n)}else{var a=yo.getLsRemoteCfg(Z.APLUS_REMOTE_CONFIG);Ro.enableCfg(a)}}},{key:"syncRemoteCfgData",value:function(e){(0,it.loadScript)(e,(function(e){var t,n;if(e&&"error"===e.type)T().w("quicktracking load remote config failed",e);else{try{n="object"===a(t=x("imprint"))?t:JSON.parse(t);yo.setLsRemoteCfg(Z.APLUS_REMOTE_CONFIG,ht.date2YYMMDDHHMMSS(),n)}catch(e){n=null}Ro.enableCfg(n)}}))}},{key:"run",value:function(){var e=this,t=e.tryGetStoreValue(e.ABFPC),n=t.lsValue||t.cookieValue;n&&(n=n.replace("_".concat(e.VERSION),""));e.syncRcfg(n,(function(t){if(t&&"error"===t.type)T().w("remote configuration request failed, err msg:",t);else{var n=x(e.IMPRINT_VERSION);e.setImprintVersion(n)}}))}}]);return e}(),Do=ie(Object.freeze({__proto__:null,default:Lo})),Uo=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getMetaInfo",value:function(){return(x("_$")||{}).meta_info}},{key:"getAplusWaiting",value:function(){return(this.getMetaInfo()||{})["aplus-waiting"]}},{key:"run",value:function(e,t){var n=this.options.config||{},a=this.getAplusWaiting();if(a&&n.is_auto){a="".concat(this.getAplusWaiting());this.options.context.when_to_sendpv={aplusWaiting:a};switch(a){case Q._USER_ID:case Q._ANONY_ID:case"MAN":return"done";case"1":this.options.context.when_to_sendpv.isWait=!0;setTimeout((function(){t()}),6e3);return 6e3;default:var o=1*a;if("NaN"!=="".concat(o)){this.options.context.when_to_sendpv.isWait=!0;setTimeout((function(){t()}),o);return o}}}}}]);return e}(),jo=ie(Object.freeze({__proto__:null,default:Uo})),Bo="POST",Vo=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getMetaInfo",value:function(){return(x("_$")||{}).meta_info}},{key:"getMetaValue",value:function(e){return(this.getMetaInfo()||{})[e]}},{key:"getRhost",value:function(){var e=this.getMetaValue(Z.APLUS_PV_DOMAIN)||this.getMetaValue(Z.TRACKDOMAIN);return ht.checkDomain(e)?e:""}},{key:"getHjljHostUrl",value:function(e){return(e=ht.fixDomain(e))+"/web_logs"}},{key:"getPvHostUrl",value:function(e){e=ht.fixDomain(e);var t=/\/$/.test(e)?"":"/",n="v.gif";S()&&(n="m.gif");return e+t+n}},{key:"getSubDomain",value:function(){var e=this.getMetaValue(Z.APLUS_FORWARD_DOMAIN);return e&&!ht.checkDomain(e,Z.APLUS_FORWARD_DOMAIN)?"":e}},{key:"getChannel",value:function(e){var t,n=this.getMetaValue("aplus-channel"),a=["WS","WS-ONLY","GET",Bo];a.indexOf(e)>-1&&(t=e);!t&&a.indexOf(n)>-1&&(t=n);return t}},{key:"run",value:function(){if(!this.options.context.is_single){var e=this.options.config.recordType,t=this.getRhost(e);if(!t){T().w("current request domain invalid, please check your aplus-rhost-v value inside metainfo!");return"done"}var n,a,o=this.getSubDomain();n="PV"===e?this.getPvHostUrl(t):this.getHjljHostUrl(t);o&&(a="PV"===e?this.getPvHostUrl(o):this.getHjljHostUrl(o));var r=this.options.config||{};this.getChannel(r.method);this.options.context.where_to_send.method=r.method;this.options.context.where_to_send.url=n;a&&(this.options.context.where_to_send.subDomainUrl=a)}}}]);return e}(),Go=ie(Object.freeze({__proto__:null,default:Vo})),Fo=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getCommonParams",value:function(){var e=M(O()),t=e.getMetaInfo("aplus-globaldata")||{},n=this.options.context||{},a=n.etag||{},o=n.userdata||{},r=x("_$")||{},i=this.options.config||{},s=S()?"WAP":"PC",c={_dev_id:e.getMetaInfo("_dev_id"),_anony_id:e.getMetaInfo(Q._ANONY_ID),_user_id:e.getMetaInfo(Q._USER_ID),_user_nick:e.getMetaInfo("_user_nick")||st.getCookie("tracknick"),_session_id:e.getMetaInfo("_session_id")},u=i.pageUrl||(location?location.href:"-"),l=i.title||document&&document.title,f=e.getMetaInfo("appKey")||e.getMetaInfo("appId");f||T().w("please set appKey in sdk metaInfo before sendPV!");return d.assign({appId:f,cna:t.cna||"",_abfpc:t._abfpc||"",etag:a,pre:r.page_referrer||"-",sdk_info:{jsver:e.globalConfig.script_name,lver:e.globalConfig.lver,customSdkId:e.getMetaInfo("customSdkId")||"",platformType:s.toLowerCase()},trackerEventCode:i.trackerEventCode,title:l,url:u,client:e._aplus_client||{},timeZone:ht.getTimeZone(),gokey:c,gmkey:o.gmkey||"",method:this.options.context.where_to_send.method},c)}},{key:"getPvParams",value:function(){var e=this.getCommonParams(),t=M(O());this.options.config.is_auto||(e.sdk_info.mansndlog=1);return d.assign(e,{event_code:"2001",logtype:"1",logkey:S()?"/m.gif":"/v.gif",event_timestamp:t._$.send_pv_count>0?new Date:t.logConfig.pageLoadTime,is_auto:this.options.config.is_auto,track_type:this.options.config.track_type})}},{key:"getHjljParams",value:function(){var e=(this.options.context||{}).userdata||{},t={event_code:J[e.gmkey]||Q.OTHER,logtype:"2",logkey:e.logkey,event_timestamp:new Date};return d.assign(this.getCommonParams(),t)}},{key:"run",value:function(){var e={};e="PV"===this.options.config.recordType?this.getPvParams():this.getHjljParams();this.options.context.what_to_send.logdata=e}}]);return e}(),Ho=ie(Object.freeze({__proto__:null,default:Fo})),Wo=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getUserdata",value:function(){var e=M(O()),t=this.options.config||{},n={};t&&!t.is_auto&&t.gokey&&("string"==typeof t.gokey?n=v(t.gokey):"object"===a(t.gokey)&&(n=t.gokey));var o=function(e){l.isArray(e)?e.forEach((function(e){n=d.assign(n,e)})):n=d.assign(n,e)};o(e.getMetaInfo("aplus-globaldata"));o(e.getMetaInfo("aplus-cpvdata"));o((this.options.context||{}).userdata||{});var r=e.getMetaInfo(Z.APLUS_NEXT_PAGE_TRANSP);if(!d.isEmptyObject(r)){n.transp=d.cloneDeep(r);e.setMetaInfo(Z.APLUS_NEXT_PAGE_TRANSP,null)}return n}},{key:"processLodashDollar",value:function(){var e=this.options.config||{},t=x("_$")||{};e&&e.referrer&&(t.page_referrer=e.referrer);R("_$",t)}},{key:"updatePre",value:function(e){var t=x("_$")||{};t.page_referrer&&(e.pre=t.page_referrer);return e}},{key:"run",value:function(){var e=this.options.context.what_to_send.logdata,t=d.assign(this.getUserdata(),e.userdata||{});this.processLodashDollar();e.gokey=d.assign(e.gokey,t);e=this.updatePre(e);this.options.context.what_to_send.logdata=e;this.options.context.userdata=e.gokey}}]);return e}(),Ko=ie(Object.freeze({__proto__:null,default:Wo})),zo=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getToNativeData",value:function(){var e=this.options.context||{},t=d.cloneDeep(e.userdata)||{},n=(e.what_to_send||{}).logdata||{},a=n.sdk_info||{},o=this.options.context.etag||{},r={},i={},s={};i.cna=o.cna;i.lver=a.lver;i.jsver=a.jsver;i.id=Z.PAGE_START;i.ts=Date.now();i.r=n.arg1||n.logkey||"-";i.is_h5="1";Object.prototype.hasOwnProperty.call(t,"autosend")||n.is_auto||"1"===n.track_type?i.is_auto=1:i.is_auto=0;if(t._vt){i.track_type=t.track_type;i._vt=t._vt;delete t._vt;delete t.track_type}else i.track_type="".concat(i.is_auto);if((s=d.cloneDeep(ht.deleteInfo(t,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick","_abfpc","cna"]))).duration){i.duration=s.duration;delete s.duration}if(s.page_start){i.page_start=s.page_start;delete s.page_start}if(n.url){i.page_name=Da(location.pathname,s);i.page_title=ja(location.pathname,s);i.url=n.url||"-";i["spm-cnt"]=encodeURIComponent(i.page_name)}if(n.pre){i.ref_url="-"!==n.pre?n.pre:"";var c=Ba(i.ref_url);i.ref_page_name=c.page_name||"";i.ref_host=c.host||""}s.ts&&delete s.ts;for(var u in s){var l=s[u];"boolean"==typeof l&&(s[u]=1&l)}d.isEmptyObject(s.transp)||(r.transp=s.transp);r.sdkArgs=d.cloneDeep(i);if(s.transp){r.transp=d.cloneDeep(s.transp);delete s.transp}r.cusp=d.assign(s,Ua(location.pathname,s));return r}},{key:"run",value:function(){var e=(this.options.context||{}).what_to_send||{};e.pvdataToUmNative=this.getToNativeData();this.options.context.what_to_send=e}}]);return e}(),qo=ie(Object.freeze({__proto__:null,default:zo})),Yo="mini",Qo="web";function $o(e,t){var n,a=M(O());t===Yo?n=Io().getSync(Z.APLUS_REMOTE_CONFIG):t===Qo&&(n=yo.getLsRemoteCfg(Z.APLUS_REMOTE_CONFIG));if(n){var o=a.getMetaInfo(Z.APLUS_EVENT_LIMITRATES)||ht.mapEventSampleRates(n.eventSamplingRate);if(o&&o.length>0){var r=l.find(o,(function(t){return t.eventId===e}));if(r&&Math.ceil(1e3*Math.random())>1e3*r.samplingRate)return!0}}return!1}function Jo(e){var t=M(O()).getMetaInfo(Z.APLUS_PRESET_EVENTS_DISABLED);if(t&&l.isArray(t)&&e&&e.indexOf("$$_")>-1&&-1!==t.indexOf(e))return!0}function Xo(e,t){return function(e,t,n){if(!No())try{var a=Co.getPlatformContext();return d.isEmptyObject(a)?void 0:t===Z.APP_START||t===Z.APP_END}catch(e){}var o=xo(),r=Oo(),i=ht.LocalCfgUtils.getAutoTrackStatus();if(("string"==typeof e?m(A(e)):e||{}).auto_element){if(2===r||2===o)return;if(!o&&!i)return}return!Jo(t)&&(!$o(t,n)||void 0)}(e,t,Qo)}function Zo(e,t){return function(e,t,n){var a=No(),o=Mo(),r=ht.LocalCfgUtils.localAutoPVDisabled();return!(!a||Jo(Z.PAGE_START)||$o(t,n)||e&&(2===o||!o&&r))}(e,t,Qo)}var er=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){var e=x("_$")||{},t=this.options.context.can_to_sendpv||{},n=this.options.config||{},a=this.options.context.userdata,o=Da(location.pathname,a);if(!Zo(n.is_auto,o))return"done";t.flag="YES";this.options.context.can_to_sendpv=t;R("_$",e)}}]);return e}(),tr=ie(Object.freeze({__proto__:null,default:er})),nr=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){var e=M(O())._$||{},t=this.options.context||{};R("pv_context",t);var n=e.send_pv_count,a={cna:t.etag?t.etag.cna:"",count:n};U(["sendPV","complete",a]);j(["sendPV","complete",a])}}]);return e}(),ar=ie(Object.freeze({__proto__:null,default:nr})),or=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getUserData",value:function(){var e=M(O()),t=this.options.context||{},n=t.userdata||{},a=t.what_to_send.logdata.gokey;a=d.assign(a,e.getMetaInfo("aplus-globaldata"));a=d.assign(a,v(n.gokey));var o=e.getMetaInfo("aplus-exdata");l.isArray(o)?o.forEach((function(e){a=d.assign(a,e)})):a=d.assign(a,e.getMetaInfo("aplus-exdata"));return a}},{key:"run",value:function(){this.options.context.what_to_send.logdata.gokey=this.getUserData()}}]);return e}(),rr=ie(Object.freeze({__proto__:null,default:or})),ir=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"getToNativeData",value:function(){var e=this.options.context||{},t=e.userdata||{},n=e.etag||{},o=(e.what_to_send||{}).logdata||{},r=o.sdk_info||{},i={},s={},c={};s.cna=n.cna;s.lver=r.lver;s.jsver=r.jsver;s.id=t.logkey||"-";s.ts=Date.now();s.is_h5="1";if(t.gokey)switch(a(t.gokey)){case"string":s.is_auto=!!t.gokey.match("is_auto");break;case"object":s.is_auto=t.gokey.is_auto;break;default:s.is_auto=0}else s.is_auto=0;s.is_auto&&(s.event_type_id=o.event_code);s.track_type=s.is_auto||"".concat(0);c="string"==typeof t.gokey?m(A(t.gokey||"")):d.cloneDeep(ht.deleteInfo(t.gokey,["_anony_id","_dev_id","_session_id","_src_pos_id","_user_id","_user_nick"]));if(o.url){s.page_name=Da(location.pathname,c);s.page_title=ja(location.pathname,c);s.url=o.url||"-";if(s.page_name&&c.spmC){s["spm-cnt"]=[encodeURIComponent(s.page_name),encodeURIComponent(c.spmC),encodeURIComponent(c.spmD)].filter((function(e){return!!e})).join(".");delete c.spmC;delete c.spmB;delete c.spmD}}if(o.pre){s.ref_url="-"!==o.pre?o.pre:"";var u=Ba(s.ref_url);s.ref_page_name=u.page_name||"";s.ref_host=u.host||""}c.ts&&delete c.ts;for(var l in c){var f=c[l];"boolean"==typeof f&&(c[l]=1&f)}var p=d.cloneDeep(c);for(var g in p)if("string"==typeof g&&E.isStartWith(g,"_")){s[g]=p[g];delete c[g]}i.sdkArgs=d.cloneDeep(s);var h=d.cloneDeep(c);i.cusp=h;if(h.ap){i.ap=h.ap;delete h.ap}return i}},{key:"run",value:function(){var e=(this.options.context||{}).what_to_send||{};e.hjljdataToUmNative=this.getToNativeData();this.options.context.what_to_send=e}}]);return e}(),sr=ie(Object.freeze({__proto__:null,default:ir})),cr={};function ur(e){var t;try{for(var n;e&&(n=e.tagName)&&!(t=e&&e.getAttribute?e.getAttribute("data-aplus-pos-id"):"");){if("BODY"===n||"HTML"===n){t="PAGE";break}e=e.parentNode}}catch(e){}return{_pos_id:t,alinkEl:e,isPage:!1}}function lr(e,t){var n=M(O()),a=e.getElementsByTagName("a"),o=function(e){var t=M(O()).getMetaInfo("aplus-auto-clk")||[],n={};if("PAGE"===e)return t[0]||{};l.each(t,(function(t){if(t._pos_id===e){n=t;return"break"}}));return n}(t)||{},r=cr.page||{},i=o.spmB||r.spmB;if(i){var s=1;l.each(a,(function(e){var a=ur(e)._pos_id;if(t===a){var o="PAGE"===t?[i,s++].join("."):[i,t,s++].join(".");n._current_spm=o;try{if(e&&e.setAttribute&&!e.getAttribute("aplus-anchor-id")){e.setAttribute("aplus-anchor-id",o);e.href&&"#"!==e.href&&e.setAttribute("href",function(e,t){e&&/&?\b_src_pos_id=[^&#]*/.test(e)&&(e=e.replace(/&?\b_src_pos_id=[^&#]*/g,"").replace(/&{2,}/g,"&").replace(/\?&/,"?").replace(/\?$/,""));if(!t)return e;var n,a,o,r="&";if(-1!==e.indexOf("#")){o=e.split("#");e=o.shift();a=o.join("#")}var i=e.split("?"),s=i.length-1,c=(o=(o=i[0].split("//"))[o.length-1].split("/")).length>1?o.pop():"";if(s>0){n=i.pop();e=i.join("?")}n&&s>1&&-1===n.indexOf("&")&&-1!==n.indexOf("%")&&(r="%26");e="".concat(e,"?_src_pos_id=").concat("").concat(t).concat(n?r+n:"").concat(a?"#".concat(a):"");var u=E.isContain(c,".")?c.split(".").pop().toLowerCase():"";if(u){if(Object.prototype.hasOwnProperty.call({png:1,jpg:1,jpeg:1,gif:1,bmp:1,swf:1},u))return 0;!n&&s<=1&&(a||Object.prototype.hasOwnProperty.call({htm:1,html:1,php:1,aspx:1,shtml:1,xhtml:1},u)||(e+="&file=".concat(c)))}return e}(e.href,o))}}catch(e){T().w(e)}}}))}}function fr(e,t){var n,a=function(e){for(var t,n;e&&(t=e.tagName);){if("A"===t){n=!0;break}if("BODY"===t||"HTML"===t)break;e=e.parentNode}return n?e:""}(t);if(a&&!(n=a.getAttribute("aplus-anchor-id"))){var o=ur(a);n=o._pos_id;lr(o.alinkEl,n)}return n}function pr(e){var t=document;de.pushIntoGoldlogQueue(Q.SUBSCRIBE,[Q.CURRENT_PAGE_CONFIG,function(e){cr=e||{}}]);M(O()).doTrace=fr;if(e&&e.isTouchEnabled)ct.on(t,"tapSpm",fr);else{ct.on(t,"mousedown",fr);ct.on(t,"keydown",fr)}}var gr=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){pr({isTouchEnabled:it.isTouchEnabled()})}}]);return e}(),dr=ie(Object.freeze({__proto__:null,default:gr}));function hr(e,t){!function(e,t,n,a){var o=window||{},r=new Image,i="_img_".concat(Math.random());o[i]=r;var s=function(){if(o[i])try{delete o[i]}catch(e){o[i]=void 0}};r.onload=function(){s();n&&n()};r.onerror=function(){s();a&&a()};setTimeout((function(){if(window[i]){window[i].src="";s()}}),t||5e3);r.src=e;r=null}(e,t,(function(){}),(function(){T().w("imgRequest send failed, src = ".concat(e))}))}var _r=document,mr=[],vr=[],yr=[],br=[],Ar=P.extend({beforeSendPV:function(e){mr.push(e)},afterSendPV:function(e){vr.push(e)},send:function(e,t,n){var a,o=M(O());if(0===e.indexOf("//")){var r=Q.HTTPS;/(\d+\.){3,}\d+/.test(e)&&(r="http:");e=r+e}a="POST"===n&&navigator&&navigator.sendBeacon?function(e,t){navigator.sendBeacon(e,t);return e}(e,t):hr("".concat(e,"?").concat(t),function(){var e=5e3;try{var t=M(O()).getMetaInfo("aplus-mmstat-timeout");if(t){var n=parseInt(t,10);n>=1e3&&n<=1e4&&(e=n)}}catch(e){}return e}());o.req=a;return a},sendPV:function(e,t){e=e||{};var n=M(O());if(l.some(mr,(function(t){return!1===t(n,e)})))return!1;var a=n.getMetaInfo(Z.APLUS_SKIP_APV_RULES)||[];if(!l.itemMatch(a,location.href)||!e.is_auto){var o=new oe;e.recordType="PV";e.method="GET"!==e.method?"POST":"GET";var r=n.logConfig.pv;o.run({plugins:r.plugins,context:d.cloneDeep(r.context)},{config:e,userdata:t,pubsubType:"pv",messageFnQueue:vr,middlewareMessageKey:"mw_change_pv"});return!0}},getParam:function(e){var t=window.WindVane||{};return t&&"function"==typeof t.getParam?t.getParam(e):""},beforeRecord:function(e){yr.push(e)},afterRecord:function(e){br.push(e)},record:function(e,t,n,a,o){var r=M(O());if(l.some(yr,(function(e){return!1===e(r)})))return!1;var i=new oe,s=r.logConfig.hjlj;Xo(n,e)&&i.run({plugins:s.plugins,context:d.cloneDeep(s.context)},{config:{recordType:"COMMON_HJLJ",method:a||"POST"},userdata:{logkey:e,gmkey:t,gokey:n||{}},pubsubType:"hjlj",messageFnQueue:br,middlewareMessageKey:"mw_change_hjlj"},(function(){_(o)&&o()}));return!0},recordUdata:function(e,t,n,a,o){var r=M(O()),i=new oe,s=r.logConfig.hjlj;i.run({plugins:s.plugins,context:d.cloneDeep(s.context)},{config:{recordType:"DATACLICK_HJLJ",method:a||"POST"},userdata:{logkey:e,gmkey:t,gokey:n||{}},pubsubType:"hjlj",messageFnQueue:br,middlewareMessageKey:"mw_change_hjlj"},(function(){_(o)&&o()}));return!0},setMetaInfo:function(e,t,n){var o,r,i="OVERWRITE",s=i;if("object"===a(e)){o=e.metaName;r=e.metaValue;s=e.mode||i}else{o=e;r=t}if(s!==i)return this.appendMetaInfo(o,r);if(Dt(o,r)){var c=x("_$")||{};c.meta_info=Lt();R("_$",c);var u=["setMetaInfo",o,r,n];U(u);j(u)}},appendMetaInfo:function(e,t){var n,o,r=M(O());if(e&&t){var i,s=function(n){n.constructor===Array?function(n){try{var a="string"==typeof t?JSON.parse(t):t;c(e,n.concat(a))}catch(e){}}(n):function(n){try{var a="string"==typeof t?JSON.parse(t):t;c(e,d.assign(n,a))}catch(e){}}(n)},c=function(e,t){r.setMetaInfo(e,t,{from:"appendMetaInfo"})},u=r.getMetaInfo(e);if("aplus-exinfo"===e){n=u,o=v(t),c(e,d.assign(n,o));i=!0}if(u)if("object"===a(u)){s(u);i=!0}else try{var l=JSON.parse(u);if("object"===a(l)){s(l);i=!0}}catch(e){}i||c(e,t)}},updatePageProperties:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&!d.isEmptyObject(t)){var a=this.getMetaInfo(Z.PAGE_CONFIG)||{},o=location.pathname,r=pt.retrenchHash(location.hash),i=n?r:o,s=!1;if(d.isEmptyObject(a))a[i]={pageName:e,extData:t};else{for(var c in a){var u=a[c];if(c===i||u.regRule&&u.regRule.test(i)||u.pageName===e){s=!0;u.extData?u.extData=f(u.extData,t):u.extData=t;break}}s||(a[i]={pageName:e,extData:t})}this.appendMetaInfo(Z.PAGE_CONFIG,a)}else T().w("invoke updatePageProperties failed, current properties = ".concat(t))},updateNextPageProperties:function(e){if(d.isEmptyObject(e))T().w("invoke updateNextPageProperties failed, current properties = ".concat(e));else{var t=this.getMetaInfo(Z.APLUS_NEXT_PAGE_TRANSP),n={};for(var a in e)"function"==typeof e[a]&&e[a]?n[a]=e[a]():n[a]=e[a];n=d.assign(n,t);this.setMetaInfo(Z.APLUS_NEXT_PAGE_TRANSP,e);try{localStorage.setItem(Z.APLUS_LOCALSTORE_PAGE_TRANSP,JSON.stringify(e))}catch(e){}}},getPageProperties:function(e){if(e){var t={},n=this.getMetaInfo(Z.PAGE_CONFIG)||{};if(!d.isEmptyObject(n))for(var a in n){var o=n[a];if(o.pageName===e){t.cusp=Object.create(null);if(o.extData)for(var r in o.extData)_(o.extData[r])?t.cusp[r]=o.extData[r]():t.cusp[r]=o.extData[r];break}}var i=null,s=this.getMetaInfo(Z.APLUS_NEXT_PAGE_TRANSP),c=JSON.parse(localStorage.getItem(Z.APLUS_LOCALSTORE_PAGE_TRANSP));i=s||c;d.isEmptyObject(i)||(t.transp=i);return t}T().w("invoke getPageProperties method failed, page_name should not be empty, but ".concat(e))},onPageShow:function(){},onPageHide:function(){try{localStorage.getItem(Z.APLUS_LOCALSTORE_PAGE_TRANSP)&&localStorage.removeItem(Z.APLUS_LOCALSTORE_PAGE_TRANSP)}catch(e){}},getPageProperty:function(e,t,n){if(e)if(t&&"string"==typeof t){if(n){var a=this.getPageProperties(e),o=a.cusp,r=a.transp;switch(n){case"cusp":if(!d.isEmptyObject(o))return o[t];break;case"transp":if(!d.isEmptyObject(r))return r[t];break;default:T().w("invoke getPageProperty failed, invalid propType = ".concat(n))}}}else T().w("invoke getPageProperty failed, invalid propKey = ".concat(t));else T().w("invoke getPageProperty failed, page_name should not be empty")},getMetaInfo:function(e){return Ut(e)},on:ct.on,cloneDeep:d.cloneDeep,setCookie:st.setCookie,getCookie:st.getCookie,updateSessionProperties:function(e){var t=M(O());"object"===a(e)&&t.setMetaInfo("_session_args",e)},setPageName:function(e){if(e&&"string"==typeof e){var t=_r.querySelector("body");try{t.setAttribute("data-pagename",e)}catch(e){T().w("setPageName failed: err=".concat(e))}}else T().w("setPageName failed: pagename=".concat(e))},getPageName:function(){return Da(location.pathname)},getElementSPM:function(e){if(e&&e.dataset)return e.getAttribute("data-spm-anchor-id")},recordAppLink:function(e,t,n){if(!e.targetAppKey){T().w("send $$_app_link failed: targetAppKey is null");return!1}e.is_auto=1;return M(O()).record("$$_app_link","OTHER",e,t,n)},reportUserInfo:function(e,t){var n={};e&&("string"==typeof e?n._user_email=e:T().w("user_email"));t&&("string"==typeof t?n._user_mobile=t:T().w("user_mobile"));Object.keys(n).length&&this.record("$$_user_profile","OTHER",n)}});function Sr(e){var t=M(O());if(!t._aplus_api){t._aplus_api={status:"complete"};var n=Ar.create({logConfig:e});for(var a in n)t[a]=n[a]}}var Er=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){Sr(this.options.context.logConfig)}}]);return e}(),wr=ie(Object.freeze({__proto__:null,default:Er})),Tr="0123456789abcdef";function Pr(e){for(var t="",n=7;n>=0;n--)t+=Tr.charAt(e>>4*n&15);return t}function Cr(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Ir(e,t){return e<<t|e>>>32-t}function kr(e,t,n,a){return e<20?t&n|~t&a:e<40?t^n^a:e<60?t&n|t&a|n&a:t^n^a}function Or(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}var Nr=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")};function Mr(e){for(var t=function(e){for(var t,n=1+(e.length+8>>6),a=new Array(16*n),o=0;o<16*n;o++)a[o]=0;for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<24-t%4*8;a[t>>2]|=128<<24-t%4*8;a[16*n-1]=8*e.length;return a}(e),n=new Array(80),a=1732584193,o=-271733879,r=-1732584194,i=271733878,s=-1009589776,c=0;c<t.length;c+=16){for(var u=a,l=o,f=r,p=i,g=s,d=0;d<80;d++){n[d]=d<16?t[c+d]:Ir(n[d-3]^n[d-8]^n[d-14]^n[d-16],1);var h=Cr(Cr(Ir(a,5),kr(d,o,r,i)),Cr(Cr(s,n[d]),Or(d)));s=i;i=r;r=Ir(o,30);o=a;a=h}a=Cr(a,u);o=Cr(o,l);r=Cr(r,f);i=Cr(i,p);s=Cr(s,g)}return Nr(Pr(a)+Pr(o)+Pr(r)+Pr(i)+Pr(s))}function xr(){var e;e||(e=function(){var e="Not supported";try{var t=document.createElement("canvas"),n=t.getContext("2d");t.style.display="inline";n.textBaseline="alphabetic";n.fillStyle="#f60";n.fillRect(125,1,62,20);n.fillStyle="#069";n.font="11pt no-real-font-123";n.fillText("Cwm fjordbank glyphs vext quiz, ",2,15);n.fillStyle="rgba(102, 204, 0, 0.7)";n.font="18pt Arial";n.fillText("Cwm fjordbank glyphs vext quiz, ",4,45);e=t.toDataURL()}catch(e){}return e}());var t=Mr(e);return Nr(t)}var Rr=function(){function e(t){o(this,e);this.options=t;this.ABFPC="_abfpc";this.CNA="cna";this.VERSION="2.0";this.gl="";this.canvas=""}i(e,[{key:"writeCookie",value:function(e,t){try{var n=new Date;n.setTime(n.getTime()+31536e6);st.setCookie(e,t,{SameSite:!0,expires:"expires=".concat(n.toString())})}catch(e){T().w(e)}}},{key:"trySyncFp",value:function(){var e=this.tryGetStoreValue(this.ABFPC);this.syncLS2Cookie(this.ABFPC,e)}},{key:"tryGetStoreValue",value:function(e){return{LSValue:ut.get(e),cookieValue:st.getCookie(e)}}},{key:"getClientInfo",value:function(){var e={};try{e=qt?qt._aplus_client:{}}catch(e){}return e}},{key:"hasUsableSWF",value:function(){var e;try{e=void 0!==window.ActiveXObject?new ActiveXObject("ShockwaveFlash.ShockwaveFlash"):navigator.plugins["Shockwave Flash"]}catch(e){}return e?"true":"false"}},{key:"getCanvas",value:function(){try{this.canvas||(this.canvas=document.createElement("canvas"))}catch(e){}return this.canvas}},{key:"getWebGl",value:function(){try{var e=this.getCanvas();!this.gl&&e&&(this.gl=window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(e){}return this.gl}},{key:"initUint8ArrayHashCode2",value:function(){Uint8Array.prototype.hashCode2||(Uint8Array.prototype.hashCode2=function(){var e,t,n=0;if(0===this.length)return n;for(e=0,t=this.length;e<t;e++){n=(n<<5)-n+this[e];n|=0}return n})}},{key:"getWebGlPrinting",value:function(){var e=this.getWebGl();if(e)try{this.initUint8ArrayHashCode2();var t,n,a=e.getExtension("WEBGL_debug_renderer_info");if(a){t=e.getParameter(a.UNMASKED_VENDOR_WEBGL);n=e.getParameter(a.UNMASKED_RENDERER_WEBGL)}else{t="No debug Info";n="No debug Info"}return{myGl:e,ven:t,ren:n}}catch(e){}}},{key:"getResolution",value:function(){var e=1*screen.width,t=1*screen.height;return"".concat(screen.colorDepth,"_").concat(Math.round(e),"_").concat(Math.round(t),"_").concat(1,"_").concat(screen.width,"_").concat(screen.height,"_").concat(screen.colorDepth)}},{key:"generateWebGlPrint",value:function(){var e="",t=this.getWebGl();if(t){try{var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n);var a=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);t.bufferData(t.ARRAY_BUFFER,a,t.STATIC_DRAW);n.itemSize=3;n.numItems=3;var o=t.createProgram(),r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}");t.compileShader(r);var i=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(i,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}");t.compileShader(i);t.attachShader(o,r);t.attachShader(o,i);t.linkProgram(o);t.useProgram(o);o.vertexPosAttrib=t.getAttribLocation(o,"attrVertex");o.offsetUniform=t.getUniformLocation(o,"uniformOffset");t.enableVertexAttribArray(o.vertexPosArray);t.vertexAttribPointer(o.vertexPosAttrib,n.itemSize,t.FLOAT,!1,0,0);t.uniform2f(o.offsetUniform,1,1);t.drawArrays(t.TRIANGLE_STRIP,0,n.numItems);e=t.canvas.toDataURL()}catch(e){}return e}}},{key:"audioFingerPrinting",value:function(){try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.destination;return"".concat(e.sampleRate.toString(),"_").concat(t.maxChannelCount,"_").concat(t.numberOfInputs,"_").concat(t.numberOfOutputs,"_").concat(t.channelCount,"_").concat(t.channelCountMode,"_").concat(t.channelInterpretation)}catch(e){return"not supported"}}},{key:"getPluginsPrinting",value:function(){var e="";if(navigator&&navigator.plugins){for(var t=navigator.plugins.length,n=0;n<t;n++)e+="".concat(navigator.plugins[n].name,"_");e=e.replace(/[^a-zA-Z ]/g,"")}return e}},{key:"checkIsTouch",value:function(){try{return"ontouchend"in document.createElement("div")?"true":"false"}catch(e){}}},{key:"generateFp",value:function(){var e=this.getWebGlPrinting()||{},t=M(O()),n=st.getData(),a=ft.getExparamsInfos(),o=t.getMetaInfo(Q._USER_ID)||t.getMetaInfo(Q._DEV_ID)||t.getMetaInfo(Q._ANONY_ID),r=a.uidaplus||(new Date).getTime(),i=xr(),s=d.assign(this.getClientInfo(),{WebGL:this.gl?"true":"false",webglPrint:this.generateWebGlPrint(),adBlock:"No",audio:this.audioFingerPrinting(),cookieEnabled:navigator?!!navigator.cookieEnabled:"false",cpu_cores:navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:-1,fontlist:this.hasUsableSWF(),gpu:e.ren,hash:e.hash,inc:e.inc,isSupportLS:ut.test()?"true":"false",plugins:this.getPluginsPrinting(),resolution:this.getResolution(),timezone:-(new Date).getTimezoneOffset()/60,isTouch:this.checkIsTouch(),lang:navigator?navigator.language:"",tracknick:n.tracknick||a.pu_i||o||r}),c=[i];for(var u in s)s[u]&&c.push(s[u]);var l="".concat(Mr(c.join("_")),"_").concat(this.VERSION);ut.set(this.ABFPC,l);this.writeCookie(this.ABFPC,l);return l}},{key:"syncCNA",value:function(e,t,n){var a=M(O()),o=it.loadScript,r=a.getMetaInfo(Z.APLUS_PV_DOMAIN)||a.getMetaInfo(Z.TRACKDOMAIN);(r=ht.fixDomain(r))&&o(t?"".concat(r,"/pbe.js?_abfpc=").concat(e,"&cna=").concat(t):"".concat(r,"/pbe.js?_abfpc=").concat(e),n)}},{key:"syncLS2Cookie",value:function(e,t){var n=t.LSValue,a=t.cookieValue;n&&n!==a&&this.writeCookie(e,n);a&&!n&&ut.set(e,a)}},{key:"updateGlobalData",value:function(e){var t=M(O());e&&e._abfpc&&(e._abfpc=e._abfpc.replace("_".concat(this.VERSION),""));t&&(t.deviceInfo=e)}},{key:"fetchCNA",value:function(e,t){var n=this;this.syncCNA(e,t,(function(){var t=window.goldlog,a=t?t.cna:"";if(a){n.updateGlobalData({_abfpc:e,cna:a});ut.set(n.CNA,a);n.writeCookie(n.CNA,a)}}))}},{key:"run",value:function(){var e=this,t=e.tryGetStoreValue(e.ABFPC),n=e.tryGetStoreValue(e.CNA),a=M(O());e.syncLS2Cookie(this.ABFPC,t);e.syncLS2Cookie(this.CNA,n);var o=t.LSValue||t.cookieValue,r=n.LSValue||n.cookieValue;o||(o=e.generateFp());if((o=o.replace("_".concat(e.VERSION),""))&&a&&a.appendMetaInfo){var i={_abfpc:o};r&&(i.cna=r);e.updateGlobalData(i)}ct.on(window,"beforeunload",(function(){e.trySyncFp()}));r?B(Q.SDK_READY,(function(t){"complete"===t&&e.fetchCNA(o,r)})):setTimeout((function(){B(Q.SDK_READY,(function(t){"complete"===t&&e.fetchCNA(o)}))}),300)}}]);return e}(),Lr=ie(Object.freeze({__proto__:null,default:Rr}));function Dr(e,t){try{!function(){if(e&&l.isArray(e)&&e.length){for(var n=Kr(e).queue,a={},o=[];a=n.shift();)Wr(a,t,(function(e){o.push(e)}));o.length>0&&setTimeout((function(){for(;a=o.shift();)Wr(a,t)}),100)}}()}catch(e){T().w(e)}}function Ur(){return(x("_$")||{}).meta_info}var jr=[],Br=[],Vr=[];function Gr(e){var t=function(){var e=Ur()||{};return"1"!=="".concat(e.uaid)||e._anony_id?e._hold||e["aplus-waiting"]:"BLOCK"}(),n=Ur()||{},a=!0,o=e.arguments||[],r=o[0],i=o[1],s="START";if("_hold"===r&&i===s)return s;if("_anony_id"===r&&i)return s;if(e&&/sendPV|record|setPageSPM|setMetaInfo|appendMetaInfo$/.test(e.action)&&"BLOCK"===t&&!n[t]){Vr.push(e);a=!1}return a}function Fr(e){Dr(jr,e);Dr(Br,e);Dr(Vr,e)}function Hr(e,t){t&&$.indexOf(e)>-1&&(e="_".concat(e));return e}function Wr(e,t,n){var a=!!t.isOpenApi,o=e?e.action:"",r=e?e.arguments:"",i=Gr(e);if(i){var s=k().ctx;try{if(o&&r&&l.isArray(r)){var c,u=o.split("."),f=s,p=s;if(3===u.length)p=(f=s[u[0]][u[1]]||{})[c=Hr(u[2],a)]?f[c]:"";else for(;u.length;){p=f=f[c=Hr(u.shift(),a)];if(!f){_(n)&&n(e);return}}_(p)&&p.apply(f,r);"START"===i&&Fr(t)}}catch(e){T().w(e)}}}function Kr(e,t){for(var n,a={subscribeMwChangeQueue:[],subscribeMetaQueue:[],subscribeQueue:[],metaQueue:[],othersQueue:[]},o={};o=e.shift();)try{var r=o.action,i=o.arguments[0];/subscribe/.test(r)?"setMetaInfo"===i?a.subscribeMetaQueue.push(o):i===Q.MW_CHANGE_PV||i===Q.MW_CHANGE_HJLJ?a.subscribeMwChangeQueue.push(o):a.subscribeQueue.push(o):/MetaInfo/.test(r)?a.metaQueue.push(o):a.othersQueue.push(o)}catch(e){T().w(e);a.othersQueue.push(o)}if(t&&a[t]){n=a[t];a[t]=[]}return{queue:a.subscribeMwChangeQueue.concat(a.metaQueue).concat(a.subscribeQueue).concat(a.subscribeMetaQueue,a.othersQueue),formatQueue:n}}var zr=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){var e=this.options.context.sdk_config.queueName,t=k(),n=Kr(t[e]||[],"metaQueue");t[e]=n.queue;Dr(n.formatQueue,this.options.config)}}]);return e}(),qr=ie(Object.freeze({__proto__:null,default:zr})),Yr=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"subscribeLogs",value:function(e,t){M(O())["".concat(O(),"_pubsub")].subscribe(e,(function(e){"complete"===e.status&&t(e)}))}},{key:"isJsBridgeReady",value:function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.Umeng4Aplus&&window.webkit.messageHandlers.Umeng4Aplus||window.Umeng4Aplus}},{key:"callUT",value:function(e,t){if("sendPV"===e||"sendEvent"===e){t._bridgeName=this.options.bridgeName||"AtmBridge";t._bridgeVersion=this.options.bridgeVersion||"1.1.0"}else if("getNativePageTransp"===e||"updateNextPageProperties"===e){t._bridgeName=this.options.bridgeName||"AtmBridge";t._bridgeVersion=this.options.bridgeVersion||"2.0.0"}try{window.AtmBridge.trace(e,t,(function(e){T().i("SUCCESS:",e)}),(function(e){T().w("FAILURE:",e)}))}catch(e){T().w(e)}}},{key:"globalPropertyConvert",value:function(e){var t={};if(!d.isEmptyObject(e))for(var n in e)"boolean"==typeof e[n]?t[n]=e[n]?1:0:"string"!=typeof e[n]&&"number"!=typeof e[n]||(t[n]=e[n]);return t}},{key:"watchGlobalProperty",value:function(){var e=M(N()),t=M(O()),n=this;e.push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(e){if("complete"===e&&t&&t.getMetaInfo&&t.getMetaInfo&&Z.APLUS_GLOBALPROPERTY_SYNC_ENABLE){B(Q.SET_META_INFO,(function(e,t){e===Z.GLOBAL_PROPERTY&&n.callUT("registerGlobalProperties",n.globalPropertyConvert(t))}));B(Q.APPEND_META_INFO,(function(e,t){e===Z.GLOBAL_PROPERTY&&n.callUT("registerGlobalProperties",n.globalPropertyConvert(t))}))}}]})}},{key:"watchGetPageTransp",value:function(){window.AtmBridge.getNativeTransp()}},{key:"watchLOG",value:function(){var e=this;e.subscribeLogs("mw_change_pv",(function(t){var n=(t.what_to_send||{}).pvdataToUmNative||{};e.callUT("sendPV",n)}));e.subscribeLogs("mw_change_hjlj",(function(t){var n=(t.what_to_send||{}).hjljdataToUmNative||{};e.callUT("sendEvent",n)}))}},{key:"run",value:function(){if(!window.AtmBridge){var e=function(e){var t=e.Promise,n=e.document,o=e.navigator.userAgent,r="MacIntel"===e.navigator.platform&&e.navigator.maxTouchPoints>1||!!o.match(/(iPad).*OS\s([\d_]+)/),i=/iPhone|iPod/i.test(o)||r,s=Math.floor(65536*Math.random()),c=1,u=[],l="iframe_",f="param_",p={trace:function(e,t,n,a,o){return p.call(e,t,n,a,o)},call:function(e,n,a,o,r){var i;"number"==typeof arguments[arguments.length-1]&&(r=arguments[arguments.length-1]);"function"!=typeof a&&(a=null);!t||a||o||(i=new t((function(e,t){a=e;o=t})));var s=g.getSid(),c={success:a,failure:o};r>0&&(c.timeout=setTimeout((function(){p.onFailure(s,{ret:"HY_TIMEOUT"})}),r));g.registerCall(s,c);g.registerGC(s,r);g.evokeNative(e,n,s,c);return i},fireEvent:function(e,t){var a=n.createElement("HTMLEvents");a.initEvent(e,!1,!0);a.param=g.parseData(t);n.dispatchEvent(a)},getParam:function(e){return g.getParam(e)},find:function(e,t){t||g.unregisterCall(e,!1)},onSuccess:function(e,t,n){g.onComplete(e,t,"success",n)},onFailure:function(e,t){g.onComplete(e,t,"failure")},initNativeCallback:function(){it.setWinVariableKeyValue(Z.APLUS_CALLBACK,(function(e,t){T().i("after native callback result: ",t);if(t&&t.result.transp)try{var n,a=M(O());if("string"==typeof t.result.transp){T().i("before convert transp string: ".concat(t.result.transp));n=ht.convertNativeMapStringToJSON(t.result.transp)}else n=t.result.transp;T().i("convert native transp success, transp = ",n);a&&a.setMetaInfo&&a.setMetaInfo(Z.APLUS_NEXT_PAGE_TRANSP,n);localStorage.setItem(Z.APLUS_LOCALSTORE_PAGE_TRANSP,JSON.stringify(n));T().i("after save localstorage, transp = ",localStorage.getItem(Z.APLUS_LOCALSTORE_PAGE_TRANSP));U([Q.NATIVE_TRANSP_READY,"complete",JSON.stringify(n)])}catch(e){T().w("convert native transp failed, errmsg == ",e)}}))},subScribeNativeInvoke:function(e){g.evokeNative("getNativePageTransp",{},e.sid)},getNativeTransp:function(){var e={sid:g.getSid()};p.subScribeNativeInvoke(e)},updateNextPageProperties:function(e){g.evokeNative("updateNextPageProperties",e,g.getSid())}},g={params:{},calls:{},getSid:function(){return"".concat((s+c++)%65536)},buildParam:function(e){return e&&"object"===a(e)?JSON.stringify(e):e||""},getParam:function(e){return this.params[f+e]||""},setParam:function(e,t){this.params[f+e]=t},parseData:function(e){var t;if(e&&"string"==typeof e)try{t=JSON.parse(e)}catch(n){t={ret:"HY_RESULT_PARSE_ERROR",originValue:e}}else t=e||{};return t},registerCall:function(e,t){this.calls[e]=t},unregisterCall:function(e,t){var n=this.calls[e]||{},a=n.timeout;a&&clearTimeout(a);t||delete this.calls[e];return n},useIframe:function(e,t){var a=l+e,o=u.pop();if(!o){(o=n.createElement("iframe")).setAttribute("frameborder","0");o.style.cssText="width:0;height:0;border:0;display:none;"}o.setAttribute("id",a);o.setAttribute("src",t);o.parentNode||setTimeout((function(){n.body.appendChild(o)}),5)},retrieveIframe:function(e){var t=l+e,a=n.querySelector("#".concat(t));if(a)if(u.length>=3)try{n.body.removeChild(a)}catch(e){}else u.indexOf(a)<0&&u.push(a)},evokeNative:function(e,t,n){var a={className:Z.JSBRIDGE_AGENT,methodName:e,sid:n,callback:"getNativePageTransp"===e?Z.APLUS_CALLBACK:"",params:t},o=JSON.stringify(a);if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.Umeng4Aplus&&window.webkit.messageHandlers.Umeng4Aplus.postMessage){T().i("jsbridge native logs: ".concat(o));window.webkit.messageHandlers.Umeng4Aplus.postMessage(o)}if(window.Umeng4AplusFlutter){T().i("jsbridge flutter logs: ".concat(o));window.Umeng4AplusFlutter.postMessage(o)}if(window.Umeng4Aplus)if(window.Umeng4Aplus.CALL){T().i("jsbridge native logs: ".concat(o));window.Umeng4Aplus.CALL(o)}else if(window.Umeng4Aplus.call){T().i("jsbridge native hamonyos logs: ".concat(o));window.Umeng4Aplus.call(o)}else T().w("jsbridge Android environment error, Umeng4Aplus exists, but method not found")},registerGC:function(e,t){var n=this,a=Math.max(t||0,6e5),o=Math.max(t||0,6e4);setTimeout((function(){n.unregisterCall(e)}),a);i&&setTimeout((function(){n.params[f+e]&&delete n.params[f+e]}),o)},onComplete:function(e,t,n,a){var o=this.unregisterCall(e,a),r=o.success,s=o.failure,c=(t=this.parseData(t)).ret;"string"==typeof c&&((t=t.value||t).ret||(t.ret=[c]));"success"===n?r&&r(t):"failure"===n&&s&&s(t);if(i){this.retrieveIframe(e);this.params[f+e]&&delete this.params[f+e]}}};p.initNativeCallback();return p}(window);window.AtmBridge=e}if(window.AtmBridge){this.watchLOG();this.watchGlobalProperty();this.watchGetPageTransp()}}}]);return e}(),Qr=ie(Object.freeze({__proto__:null,default:Yr})),$r=P.extend({push:function(e){this.length++;Wr(e,this.opts)}}),Jr=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"processAplusQueue",value:function(e){var t,n,a=this.options.config||{},o=M(e);Dr(o,a);t=e,n=$r.create({opts:a,startLength:o.length,length:0}),k().ctx[t]=n}},{key:"run",value:function(){var e,t,n=this.options.context.sdk_config.queueName;this.processAplusQueue(n);e=n,t=this.options.config,M(e).push({action:Q.SUBSCRIBE,arguments:[Q.SET_META_INFO,function(e,n){e===Z.DEBUG?T().setDebug(!!n):e===Q._USER_ID&&n?Dr(jr,t):e===Q._ANONY_ID&&n?Dr(Br,t):"_hold"===e&&"START"===n&&Fr(t)}]})}}]);return e}(),Xr=ie(Object.freeze({__proto__:null,default:Jr})),Zr=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){var e=parent!==self,t=this.options.config||{};!e&&t.urlRules&&l.each(t.urlRules,(function(e){var t,n=new RegExp(e.rule);try{t=e.id?window.sessionStorage.getItem(e.id):""}catch(e){}if(n.test(location.href)||t){try{window.sessionStorage.setItem(e.id,!0)}catch(e){}l.isArray(e.cdnPath)?l.each(e.cdnPath,(function(t){/\.css$/.test(t)?it.addStyle(e.id,t):/\.js/.test(t)&&it.addScript(t)})):it.addScript(e.cdnPath)}}))}}]);return e}(),ei=ie(Object.freeze({__proto__:null,default:Zr}));function ti(){M(N()).push({action:"".concat(O(),".sendPV"),arguments:[{is_auto:!0,track_type:"1"},{}]})}function ni(){var e=M(O()),t=e&&e.getMetaInfo(Z.PAGE_CONFIG);if(t)if(t.hashMode){var n=pt.retrenchHash(location.hash);t[n]&&t[n].skipMe||ti()}else{var a=location.pathname;t[a]&&t[a].skipMe||ti()}else ti()}function ai(){!function(){var e=M(O());e._aplus_apv?e._aplus_apv={status:"complete"}:ni()}();pt.watchHistoryChange(ni);pt.watchHashChange(ni)}function oi(e){var t=e||"";if(e)try{t=encodeURIComponent(e)}catch(e){}return t}function ri(e,t,n){var a=M(O()),o=function(e,t){var n="aplus_webvt_messager=".concat(t);return e.replace("?".concat(n),"").replace("&".concat(n),"")}(e.url,e.aplus_webvt_messager),r=e.pageConfig||{},i=r.pages||[];if(0===i.length)n();else if(r.template||r.stdId)t({rs:i[0],matchRule:"template"});else{var s=!1;c(i,(function(e){var n=e.regRule&&new RegExp(e.regRule);if(e.matchUrl===o||n&&o.match(n)){s=!0;t({rs:e,matchRule:"equalUrl"});return"break"}}));s||c(i,(function(e){var n=e.matchUrl?e.matchUrl.split("|").filter((function(e){return""!==e})):[];if(o&&n.some((function(e){return o.indexOf(e)>-1}))){s=!0;t({rs:e,matchRule:"multiUrl"});return"break"}}));s||c(i,(function(e){if(e.spmCombineRule){var n=new RegExp("^".concat(e.spmCombineRule.replace(/\*\*\*/g,"\\w+"),"$"),"i");(a.debugMode||a.aplusDebug)&&window.console.log(n);if(n.test(o)){s=!0;t({rs:e,matchRule:"spmCombineRule"});return"break"}}}));var u=["","#/"];!s&&u.indexOf(o)>-1&&c(i,(function(e){if(u.indexOf(e.matchUrl)>-1){s=!0;t({rs:e,matchRule:"defaultHashs"});return"break"}}));s||n()}}var ii="",si={};function ci(e){var t=M(O()),n=t&&t.getMetaInfo?t.getMetaInfo("aplus-custom-params"):"";n&&n!==ii&&c((ii=n).split("&"),(function(e){var t=e.split("=");2===t.length&&(si[t[0]]=oi(t[1]))}));var a={};c(e||[],(function(e){var t=e.commitKey||e,n=e.goldlogName||e;a[t]=si[n]||""}));return a}function ui(e,t){var n=M(O());M(N()).push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(a){if("complete"===a){var o=e.extraParams||{};o=f(o,st.getAttrArgsFromCookie(e.cookieKeys));e.goldlogQueueKeys&&(o=f(o,ci(e.goldlogQueueKeys)));o._vt=t.template||t.stdId?2:1;e.spmB&&(o.spmB=e.spmB);var r=e.spmA,i=e.spmB;(t.template||t.stdId)&&(i+=function(e){var t="",n=e.template;if(n){var a=n.split("=");if(a&&2===a.length)switch(a[0]){case"PARAMKEYS":var o=a[1].split(",");if(o.length>0){var r=[];c(o,(function(e){var t=e.toLowerCase().replace(/_|-/g,"");r.push(t+pt.getAParamFromUrl(e,location.href))}));t="_".concat(r.join("_"))}break;case"HASH":t="_".concat(location.hash);break;case"PATHNAME":t=location.pathname.replace(/\.|\//g,"_")}}return t}(t));r&&i&&de.pushIntoGoldlogQueue("".concat(O(),".setPageSPM"),[r,i]);var s=n.getMetaInfo("aplus-waiting");n.getMetaInfo(Z.APLUS_DISABLE_AUTOPV)||"MAN"===s||de.pushIntoGoldlogQueue("".concat(O(),".sendPV"),[{is_auto:!0,title:e.title||e.pageName,track_type:"2"},o])}}]})}var li=window,fi="hash",pi="history",gi={template:-1,equalUrl:-2,spmCombineRule:-3,multiUrl:-4,defaultHashs:-5},di=P.extend({pathname:"",pageConfig:{},seniorCfg:{},main_callback:function(){},toSendPV:function(e,t,n){var a=this,o=a.pageConfig||{},r=function(e){e.advanced&&a.seniorCfg.run(e.advanced,!0);ui(e,o);a.main_callback(e)};n?r(n):ri({url:e,aplus_webvt_messager:a.aplus_webvt_messager,pageConfig:a.pageConfig},(function(e){r(e.rs)}),(function(){li.console&&li.console.warn('warning: the page of "'.concat(e,'" have not tracker config'))}))},watchHashChange:function(){var e=this;e.hash="".concat(location.hash);de.pushIntoGoldlogQueue("".concat(O(),".on"),[li,"hashchange",function(){if(e.hash!==location.hash){e.hash="".concat(location.hash);e.toSendPV(location.hash,fi)}}])},watchHistoryChange:function(){var e=this;e.pathname="".concat(location.pathname);de.pushIntoGoldlogQueue("".concat(O(),".on"),[li,"popstate",function(){if(e.pathname!==location.pathname){e.pathname="".concat(location.pathname);e.toSendPV(e.pathname,pi)}}])},clearWatchMObserver:function(){if(this._observer){this._observer.takeRecords();this._observer.disconnect()}},sendPVInInit:function(){var e,t,n,a,o;ri({url:location.pathname,aplus_webvt_messager:this.aplus_webvt_messager,pageConfig:this.pageConfig},(function(t){e=t}),(function(){}));ri({url:location.hash,aplus_webvt_messager:this.aplus_webvt_messager,pageConfig:this.pageConfig},(function(e){t=e}),(function(){}));if(e&&!t){a=e.rs;n=pi;o=location.pathname}else if(!e&&t){a=t.rs;n=fi;o=location.hash}else if(e&&t)if(gi[t.matchRule]>=gi[e.matchRule]){n=fi;a=t.rs;o=location.hash}else{n=pi;a=e.rs;o=location.pathname}a&&this.toSendPV(o,n,a)},reset:function(e,t){this.pageConfig=e;this.main_callback=t;this.sendPVInInit()},run:function(e){this.aplus_webvt_messager=lt.getAParamFromUrl("aplus_webvt_messager",location.href);this.main_callback=e;this.sendPVInInit();pt.watchHashChange(this.toSendPV.bind(this));pt.watchHistoryChange(this.toSendPV.bind(this))}}),hi=P.extend({pageConfig:{},currentPagePoints:[],isSetAutoExpUserFn:!1,isSetAutoClkUserFn:!1,SET_METAINFO:"qt.setMetaInfo",APPEND_METAINFO:"qt.appendMetaInfo",AUTO_EXP_ACTION:"aplus-auto-exp",AUTO_CLK_ACTION:"aplus-auto-clk",getAttrArgsCfg:function(e){var t={};c(this.currentPagePoints,(function(n){n.selector===e&&(t=n)}));return t},getDefaultArgs:function(){var e=this.pageConfig||{};return{_vt:e.template||e.stdId?2:1}},getSpmDFromUserAttribute:function(e,t){var n;document.querySelectorAll&&c(document.querySelectorAll(e),(function(e,a){if(e===t){var o=a+1;n="A"===t.tagName?a:"d".concat(o)}}));return n},getSpmCFromUserAttribute:function(e,t){var n="0";try{var a=t.getAttribute("data-tracker");n=a||(n=e.replace(/'|"|;|:|=|\[|\]|\.|#|-|\/|\|/g,"")).replace(/\s+/g,"")}catch(e){}return n},getAttrArgs:function(e,t){var n=M(O()),a=this.getAttrArgsCfg(t),o={};window.g_SPM&&window.g_SPM.getParam&&(o=window.g_SPM.getParam(e));var r,i=!(!n||!n.getMetaInfo)&&"1"===n.getMetaInfo("aplus-udata-enable");if(a.spmB){o.b=a.spmB;i&&e.setAttribute("data-spm",o.b)}if(a.spmC){o.c=a.spmC;i&&e.setAttribute("data-spm",o.c)}if(!o.c||"0"===o.c){o.c=this.getSpmCFromUserAttribute(t,e)||"0";r=!0;i&&e.setAttribute("data-spm",o.c)}a.spmD?o.d=a.spmD:!a.spmD&&r&&(o.d=this.getSpmDFromUserAttribute(t,e));var s=[];for(var c in o)s.push(o[c]);var u=s.join("."),l=f(this.getDefaultArgs(),this.getAttrArgsFromDom(e,a));l=f(l,this.getAttrArgsFromStaticParams(a));l=f(l,ci(a.goldlogQueueKeys));var p=(l=f(l,st.getAttrArgsFromCookie(a.cookieKeys))).scm||"";delete l.scm;return{userdata:l,spm:u,scm:p}},getAttrArgsFromDom:function(e,t){var n={};t.attrArgs&&c(t.attrArgs,(function(t){if(t.recursive){var a=it.getAttributeFromEachDom(e,t.attrName);a&&(n[t.commitKey]=oi(a))}else n[t.commitKey]=oi(rt.tryToGet(e,t.attrName))}));return n},getAttrArgsFromStaticParams:function(e){var t={};if(e.customArgs)for(var n in e.customArgs)t[n]=oi(e.customArgs[n]);return t},clearAutoActionCfg:function(e){de.pushIntoGoldlogQueue(this.SET_METAINFO,[e,null])},appendAutoActionCfg:function(e,t){de.pushIntoGoldlogQueue(this.APPEND_METAINFO,[e,[{logkey:t.logkey,cssSelector:t.selector,eltype:t.eltype,source:"aplus_webvt",spmC:t.spmC,spmD:t.spmD,spmB:t.spmB,customArgs:t.customArgs}]])},setAutoActionUserFn:function(e,t){var n=this;if(!n[t]){n[t]=!0;de.pushIntoGoldlogQueue(n.SET_METAINFO,[e,function(e,t){return n.getAttrArgs(e,t)}])}},execTrackerTypes:function(e,t){var n=this;t&&"string"==typeof t&&c(t.split("|"),(function(t){switch(t){case"jump":break;case"exposure":n.appendAutoActionCfg(n.AUTO_EXP_ACTION,e);break;case"click":n.appendAutoActionCfg(n.AUTO_CLK_ACTION,e)}}))},reset:function(e){this.pageConfig=e.pageConfig;this.currentPagePoints=[];this.setAutoActionUserFn("".concat(this.AUTO_EXP_ACTION,"-userfn"),"isSetAutoExpUserFn");this.setAutoActionUserFn("".concat(this.AUTO_CLK_ACTION,"-userfn"),"isSetAutoClkUserFn");var t=e.pageConfig.template,n=e.pageConfig.stdId,a=this;c(this.pageConfig.points,(function(o){if(t||n||o.spmB===e.spmB){a.currentPagePoints.push(o);a.execTrackerTypes(o,o.trackerType)}}))}}),_i=function(){function e(){o(this,e)}i(e,[{key:"updatePageConfig",value:function(e){var t=this;if(e.isSPA)t.watchSPA&&t.watchSPA.reset(e,(function(n){try{t.logG.reset({spmA:n.spmA,spmB:n.spmB,pageConfig:e})}catch(e){T().w("err == ",e)}}));else{var n=e.pages[0];ui(n,e);t.logG.reset({spmA:n.spmA,spmB:n.spmB,pageConfig:e})}}},{key:"filterTriggerMoment",value:function(e,t){switch(e){case"On_Page_Load":de.pushIntoGoldlogQueue("".concat(O(),".on"),["onload",t]);break;case"On_Dom_Ready":de.pushIntoGoldlogQueue("".concat(O(),".on"),["DOMReady",t]);break;case"On_CustomEvent_Trigger":de.pushIntoGoldlogQueue(Q.SUBSCRIBE,["setMetaInfo",function(e,n){"pageReady"===e&&"complete"===n&&t()}]);break;case"On_Aplus_Ready":case"Collect_Script_Load":t();break;default:T().i("current triggerMoment can't match any values, triggerMoment = ",e)}}},{key:"doInitWebVT",value:function(e){var t=this,n=M(O()),a=e.pages[0];window.document.body.dataset&&window.document.body.dataset.pagename&&window.document.body.dataset.pagename===a.spmB||n.setPageName(a.spmB);t.logG=hi.create({pageConfig:e});if(e.isSPA){t.watchSPA=di.create({pageConfig:e,seniorCfg:t.seniorCfg});t.watchSPA.run((function(n){t.logG.reset({spmA:n.spmA,spmB:n.spmB,pageConfig:e})}))}else{ui(a,e);t.logG.reset({spmA:a.spmA,spmB:a.spmB,pageConfig:e})}}},{key:"initWebVT",value:function(e,t){var n=M(O()),a=this;this.filterTriggerMoment(e.triggerMoment,(function(){t();a.doInitWebVT(n._aplus_vt_cfg)}))}}]);return e}(),mi={catchException:function(e,t){var n=e;"object"===a(t)&&t.message&&(n="".concat(n,"_").concat(t.message));de.pushIntoGoldlogQueue("".concat(O(),"._aplus_cplugin_m.do_tracker_jserror"),[{message:n,error:JSON.stringify(t),filename:e}])}},vi=1e4;function yi(e,t,n,a){window.fetch?function(e,t,n,a){/^\/\//.test(e)&&(e=Q.HTTPS+e);var o=!0,r=a&&a.timeout?a.timeout:vi;setTimeout((function(){if(o){o=!1;n({timeout:r})}}),r);window.fetch(e).then((function(e){return/application\/json/.test(e.headers.get("content-type"))?e.json():e.text()})).then((function(e){if(o){t(e);o=!1}})).catch((function(e){o&&n(e)}))}(e,t,n,a):function(e,t,n,a){var o;window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?(o=new XMLHttpRequest).open("GET",e,!0):(o=new window.XDomainRequest).open("GET",e);var r=a&&a.timeout?a.timeout:vi;o.timeout=r;o.onload=function(){o.responseText?t(o.responseText):n()};o.onerror=n;o.ontimeout=n;o.send()}(e,t,n,a)}var bi,Ai=document,Si={lsWebvtConfigKey:"APLUS_WEBVT_CONFIG",getWebVtTplCdnPath:function(){var e=ft.getMetaCnt("aplus-track-config-id"),t=ft.getMetaCnt("aplus-track-config-id","turnon");return e&&"1"===t?e:""},getVtConfigPath:function(){var e=this.getWebVtTplCdnPath(),t=[],n=ft.getMetaCnt("spm-id");if(n)t=n.split(".");else{var a=ft.getMetaCnt("data-spm"),o=rt.tryToGet(Ai.body,"data-spm");if(a){t.push(a);o&&t.push(o)}}2===t.length?this.originSpm={spmA:t[0],spmB:t[1]}:1===t.length&&(this.originSpm.spmA=t[0]);return e||(2===t.length?t.join("_"):1===t.length?t[0]:void 0)},fetchFromLS:function(e){this.cdnpath||(this.cdnpath=e||this.getVtConfigPath());return decodeURIComponent(ut.get("".concat(this.lsWebvtConfigKey,"-").concat(e)))||{}},setConfigIntoLs:function(e){this.cdnpath||(this.cdnpath=this.getVtConfigPath());ut.set("".concat(this.lsWebvtConfigKey,"-").concat(this.cdnpath),encodeURIComponent(JSON.stringify(e)))}},Ei="WebVtConfigBack",wi=Q.PUBLISH,Ti=parent!==window.self;function Pi(){var e=!1,t=M(O());if(t.aplusDebug||t.debugMode)return!0;bi||(bi=function(){bi||(bi=decodeURIComponent(lt.getAParamFromUrl("parentUrl",location.href)));return bi}());if(bi&&Ti&&/aplus_webvt_messager/.test(location.href)){var n=/log2-daily\.alibaba\.net/.test(bi),a=/pre-log2\.alibaba-inc\.com/.test(bi);e=n||a}return e}var Ci=P.extend(d.assign(Si,{pathname:"",pageConfig:{},originSpm:{spmA:"",spmB:""},updateCfgLs:function(e,t){var n=this;setTimeout((function(){n.fetchFromCdn(e,t)}),1e3)},fetchFromCdn:function(e,t,n){var o,r=this;if(n)o=e;else{var i=Pi()?"vtdaily":"vt";o=[t,i,"".concat(e,".json")].join("/")}var s=(new Date).getTime(),c=M(O());yi(o,(function(e){c._webcfg_load=(new Date).getTime()-s;if(e)try{c._aplus_vt_cfg="object"===a(e)?e:JSON.parse(e);c._aplus_vt_cfg.points&&l.each(c._aplus_vt_cfg.points,(function(e){e.selector=decodeURIComponent(e.selector)}));r.setConfigIntoLs(c._aplus_vt_cfg)}catch(e){c._aplus_vt_cfg={enabled:!1}}de.pushIntoGoldlogQueue(wi,[Ei,{pageConfig:c._aplus_vt_cfg,enable:0}])}),(function(e){c._aplus_vt_cfg&&c._aplus_vt_cfg.enabled&&de.pushIntoGoldlogQueue(wi,[Ei,{pageConfig:c._aplus_vt_cfg,enable:0}]);mi.catchException("getTrackerCfg",e,{msg:o})}),{timeout:5e3})},getWebVtData:function(e,t,n,a){var o=M(O());o._webcfg_load=0;if(e){var r=this.fetchFromLS(e);if("string"==typeof r)try{r=JSON.parse(r)}catch(e){r={}}r&&r.enabled&&(o._aplus_vt_cfg=r);n?this.fetchFromCdn(e,t,a):de.pushIntoGoldlogQueue(wi,[Ei,{pageConfig:r,enable:0}])}},syncWebVtData:function(){var e=M(O()),t=ft.getMetaCnt("aplus-vt-cfg-url")||e.getMetaInfo("aplus-vt-cfg-url");this.getWebVtData(t,"",!0,!0)},init:function(){var e=this,t=Q.SUBSCRIBE;de.pushIntoGoldlogQueue(t,[Ei,function(t){t.enable||(e.pageConfig=t.pageConfig);de.pushIntoGoldlogQueue(wi,["WebVtConfigFormat",{pageConfig:t.pageConfig}]);!t.enable&&e.setConfigIntoLs(e.pageConfig)}]);e.syncWebVtData()},run:function(){this.init();return this}})),Ii=function(){function e(t){o(this,e);this.options=t;this.vtInited=0}i(e,[{key:"isVTTraced",value:function(){var e=M(O());return e&&e.getMetaInfo?e.getMetaInfo(Z.APLUS_VT_CONFIG_URL):ft.getMetaCnt(Z.APLUS_VT_CONFIG_URL)}},{key:"getPageConfig",value:function(e,t){if(e&&e.pages)for(var n=0;n<e.pages.length;n++){var a=e.pages[n]||{};a.template&&(e.template=a.template);if(!a.spmA&&!a.spmB){a.spmA=t.spmA;a.spmB=t.spmB;e.pages[n]=a}}return e}},{key:"run",value:function(){var e=M(O());if(this.isVTTraced()){Ci.create().run();var t=this;de.pushIntoGoldlogQueue(Q.SUBSCRIBE,["WebVtConfigFormat",function(n){e._aplus_vt_cfg=n.pageConfig;var a=t.getPageConfig(e._aplus_vt_cfg,n.originSpm);if(a&&a.enabled){e._aplus_vt_cfg=a;var o=new _i;if(0===t.vtInited){o.initWebVT(a,(function(){t.vtInited=2}));t.vtInited=1}else 2===t.vtInited&&o.updatePageConfig(e._aplus_vt_cfg)}}])}ai()}}]);return e}(),ki=ie(Object.freeze({__proto__:null,default:Ii}));function Oi(e){var t=e;if("object"!==a(t))return null;if("string"!=typeof t.tagName)return null;var n=t.tagName.toLowerCase();if("body"===n.toLowerCase()||"html"===n.toLowerCase())return null;if(!t||!t.parentNode||!t.parentNode.children)return null;var o=t.parentNode,r=function(){var e=[],t=M(O()).getMetaInfo(Z.APLUS_AUTOTRACK_CONFIG);t&&t.collect_tags&&d.isObject(t.collect_tags)&&d.eachMap(t.collect_tags,(function(t,n){n&&e.push(t)}));return e}(),i=M(O()).getMetaInfo(Z.APLUS_AUTOTRACK_CONFIG_REMOTE)||[];if(it.hasAttribute(e,"aplus-autotrack-off"))return null;if(!(i.length>0&&l.indexOf(i,n)>-1)){if("a"===n||"button"===n||"input"===n||"textarea"===n)return t;if("button"===o.tagName.toLowerCase()||"a"===o.tagName.toLowerCase())return o;if(l.indexOf(r,n)>-1)return t;var s=it.getPrev(o);return"area"===n&&"map"===o.tagName.toLowerCase()&&s.tagName&&"img"===s.tagName.toLowerCase()?s:null}}function Ni(e){var t=function(e){var t={is_auto:1,auto_element:1};try{if(e&&e.hasAttributes)for(var n=e.attributes,a=0;a<n.length;a++){var o=n[a].name||"",r=n[a].value;o&&o.indexOf("data-")>-1&&(t[o.toLowerCase().replace(/^data-/,"")]=encodeURIComponent(r))}}catch(e){T().w(e&&e.message)}return t}(e);e&&(t=d.assign(t,{ap:{element_type:e.tagName.toLowerCase(),element_name:e.getAttribute&&e.getAttribute("name")||"",element_id:e.getAttribute&&e.getAttribute("id")||"",element_class_name:"string"==typeof e.className?e.className:"",element_content:it.getElementContent(e,e.tagName)||"",element_selector:it.getDomSelector(e)||"",element_path:it.getElementPath(e)}}));return t}function Mi(){function e(e){if(!e)return!1;var t=Oi(e.target);t&&function(e){var t=M(N()),n=null;if(e["clk-logkey"]){n=e["clk-logkey"];delete e["clk-logkey"]}var a=n||ht.hash(ht.getAppKey())+ht.hash(e.ap.element_selector,ht.getAppKey());t.push({action:"".concat(O(),".record"),arguments:[a,"CLK",e||{}]})}(Ni(t))}ct.addHandler(document,ct.clickEvent(),e);document.addEventListener("unload",(function(){ct.removeHandler(document,ct.clickEvent(),e)}),!1)}var xi=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){!function(){var e=M(O());if(!e._autotracked_enable){Mi();e._autotracked_enable=!0}}()}}]);return e}(),Ri=ie(Object.freeze({__proto__:null,default:xi})),Li=window,Di=document;function Ui(){if(!(Li._ap_xwj_heat&&6<=Li._ap_xwj_heat.version)){var e,t,n,a=Li.performance||Li.mozPerformance||Li.msPerformance||Li.webkitPerformance||{_na:1},o=location,r=location.href,i=o.hostname,s=Li.navigator,c=s.appVersion,u=s?s.userAgent:"",l=R("ahot-aplus"),p=function(){var e=M(O());return R("aplus-heatmap-enabled")||e.getMetaInfo("aplus-heatmap-enabled")}(),g=function(){var e=M(O()),t=R("aplus-rate-ahot")||e.getMetaInfo("aplus-rate-ahot");return parseFloat(t||"")}(),d=R("microscope-data"),h=x(Di.getElementById("beacon-aplus"),"exparams"),_={layout:0,shouldBindMonitor:!1},m={RESOURCE_TIMING:isNaN(g)?1:g},v=function(e,t){return e.indexOf(t)>-1},y=Li.addEventListener?function(e){Li.addEventListener("load",e,!1)}:function(){},b=Li.attachEvent?function(e){Li.attachEvent("onload",e)}:y,A=function(e){var t=0;return parseFloat(e.replace(/\./g,(function(){return 0==t++?".":""})))},S=function(e,t){var n,a;t[n="trident"]=.1;(a=e.match(/Trident\/([\d.]*)/))&&a[1]&&(t[n]=A(a[1]));t.core=n},E=function(e){var t,n;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(n=t[1]||t[2])?A(n):0},w=function(e){return e||"other"};n="BackCompat"===Di.compatMode?Di.body:Di.documentElement;var T=o.protocol,P=(new Date).getTime(),C=0,I=function(e){this.config=e};I.prototype={startup:function(){var e=this;"complete"===document.readyState?_.shouldBindMonitor&&e.bindMonitor():b((function(){_.shouldBindMonitor&&e.bindMonitor()}))},collectPerformanceTiming:function(){var e=a.timing,t={};if(!e)return t;var n,o,r,i,s,c={navigationStart:"ns",unloadEventStart:"ues",unloadEventEnd:"uee",redirectStart:"rds",redirectEnd:"rde",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcles",domContentLoadedEventEnd:"dclee",domComplete:"dc",loadEventStart:"les",loadEventEnd:"lee"},u=e.navigationStart;for(n in e){o=e[n];(r=c[n])&&(0===o||void 0===o?t[r]="na":"number"==typeof o&&(t[r]=o-u))}"number"==typeof e.msFirstPaint?i=e.msFirstPaint:Li.chrome&&Li.chrome.loadTimes(s=Li.chrome.loadTimes().firstPaintTime)&&(i=Math.ceil(1e3*s));"number"==typeof i?i-=u:i="na";t.fp=i;return t},collectResourceTiming:function(){if(!("performance"in Li&&"getEntriesByType"in a&&a.getEntriesByType("resource")instanceof Array))return[];var e=[],t=a.getEntriesByType("resource"),n=function(e){return void 0===e||0===e?0:Math.floor(e)};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=t[o];r.initiatorType&&e.push({rs:n(r.redirectStart),re:n(r.redirectEnd),fs:n(r.fetchStart),st:n(r.startTime),dls:n(r.domainLookupStart),dle:n(r.domainLookupEnd),cs:n(r.connectStart),ce:n(r.connectEnd),scs:n(r.secureConnectionStart),resqs:n(r.requestStart),resps:n(r.responseStart),respe:n(r.responseEnd),restype:r.initiatorType,n:r.name})}return e},sendPV:function(){var e=this;if(!this.initialized){var t,n,a,o,r,i,s,l,f,p,g,d,_;try{t=function(e){var t,n,a,o,r,i,s,u,l,f,p="",g="",d=[6,9],h="{{version}}",_="\x3c!--[if IE ".concat(h,"]><s></s><![endif]--\x3e"),m=Di&&Di.createElement("div"),v=[],y={webkit:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0,extraName:void 0,extraVersion:void 0};if(m&&m.getElementsByTagName){m.innerHTML=_.replace(h,"");v=m.getElementsByTagName("s")}if(v.length>0){S(e,y);for(o=d[0],r=d[1];o<=r;o++){m.innerHTML=_.replace(h,o);if(v.length>0){y[g="ie"]=o;break}}a=E(e);!y.ie&&a&&(y[g="ie"]=a)}else if((n=e.match(/AppleWebKit\/([\d.]*)/))&&n[1]){y[p="webkit"]=A(n[1]);(n=e.match(/OPR\/(\d+\.\d+)/))&&n[1]?y[g="opera"]=A(n[1]):(n=e.match(/Chrome\/([\d.]*)/))&&n[1]?y[g="chrome"]=A(n[1]):(n=e.match(/\/([\d.]*) Safari/))&&n[1]&&(y[g="safari"]=A(n[1]));if(/ Mobile\//.test(e)&&e.match(/iPad|iPod|iPhone/)){y.mobile="apple";(n=e.match(/OS ([^\s]*)/))&&n[1]&&(y.ios=A(n[1].replace("_",".")));t="ios";(n=e.match(/iPad|iPod|iPhone/))&&n[0]&&(y[n[0].toLowerCase()]=y.ios)}else if(/ Android/i.test(e)){if(/Mobile/.test(e)){t="android";y.mobile=t}(n=e.match(/Android ([^\s]*);/))&&n[1]&&(y.android=A(n[1]))}else(n=e.match(/NokiaN[^/]*|Android \d\.\d|webOS\/\d\.\d/))&&(y.mobile=n[0].toLowerCase());(n=e.match(/PhantomJS\/([^\s]*)/))&&n[1]&&(y.phantomjs=A(n[1]))}else if((n=e.match(/Presto\/([\d.]*)/))&&n[1]){y[p="presto"]=A(n[1]);if((n=e.match(/Opera\/([\d.]*)/))&&n[1]){y[g="opera"]=A(n[1]);(n=e.match(/Opera\/.* Version\/([\d.]*)/))&&n[1]&&(y[g]=A(n[1]));(n=e.match(/Opera Mini[^;]*/))&&n?y.mobile=n[0].toLowerCase():(n=e.match(/Opera Mobi[^;]*/))&&n&&(y.mobile=n[0])}}else if(a=E(e)){y[g="ie"]=a;S(e,y)}else if(n=e.match(/Gecko/)){y[p="gecko"]=.1;if((n=e.match(/rv:([\d.]*)/))&&n[1]){y[p]=A(n[1]);/Mobile|Tablet/.test(e)&&(y.mobile="firefox")}(n=e.match(/Firefox\/([\d.]*)/))&&n[1]&&(y[g="firefox"]=A(n[1]))}t||(t=function(){for(var t=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows 10(WOW64)","win10"],["Windows","winOther"],["rhino","rhino"]],n=0,a=t.length;n<a;++n)if(-1!==e.indexOf(t[n][0]))return t[n][1];return"other"}());if(!function(e,t,n,a){var o,r=Li.navigator.mimeTypes;try{for(o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&r[o][e]===t){if(void 0!==n&&a.test(r[o][n]))return!0;if(void 0===n)return!0}return!1}catch(e){return!1}}("type","application/vnd.chromium.remoting-viewer")){l="scoped"in Di.createElement("style");f="v8Locale"in Li;try{u=Li.external||void 0}catch(e){}if(n=e.match(/360SE/))i="360";else if((n=e.match(/SE\s([\d.]*)/))||u&&"SEVersion"in u){i="sougou";s=A(n[1])||.1}else if((n=e.match(/Maxthon(?:\/)+([\d.]*)/))&&u){i="maxthon";try{s=A(u.max_version||n[1])}catch(e){s=.1}}else l&&f?i="360se":l||f||!/Gecko\)\s+Chrome/.test(c)||y.opera||y.trident||(i="360ee")}if(n=e.match(/TencentTraveler\s([\d.]*)|QQBrowser\/([\d.]*)/)){i="tt";s=A(n[2])||.1}else if((n=e.match(/LBBROWSER/))||u&&"LiebaoGetVersion"in u)i="liebao";else if(n=e.match(/TheWorld/)){i="theworld";s=3}else if(n=e.match(/TaoBrowser\/([\d.]*)/)){i="taobao";s=A(n[1])||.1}y.os=t;y.core=y.core||p;y.shell=g;y.ieMode=y.ie&&Di.documentMode||y.ie;y.extraName=i;y.extraVersion=s;y.resolution="".concat(Li.screen.width,"x").concat(Li.screen.height);return y}(u);n=t.os;a=t.shell;o=t.core;r=t.resolution;i=t.extraName;s=t.extraVersion;l=n?n+(t[n]?t[n]:""):"";f=a?a+parseInt(t[a],10):"";p=o;g=r;d=i?i+(s?parseInt(s,10):""):""}catch(e){}var m={p:1,o:w(l),b:w(f),w:w(p),s:g,mx:d};"https:"===T&&(m.isps=1);(_=function(){for(var e=h.split("&"),t={},n=0;n<e.length;n++){var a=e[n].split("=");t[a[0]]=a[1]}return t}().trid)&&(m.trid=_);setTimeout((function(){var t,n,a=e.collectPerformanceTiming();for(t in a)if(Object.prototype.hasOwnProperty.call(a,t)){n=a[t];m[t]||(m[t]=n)}e.initialized=!0;e.sendData(m,!0)}),0)}},bindMonitor:function(){var e=this,t=!!Di.attachEvent;Di[t?"attachEvent":"addEventListener"]("".concat(t?"on":"","mousedown"),(function(t){var n=(t=t||Li.event).target||t.srcElement;n&&e.mousedown(n,t)}),!1)},mousedown:function(e,t){var a,o=e.tagName,r={type:1};if(!o||"HTML"!==o){if("A"===o||"AREA"===o){a=e.getAttribute("href",2)||"";r.href=a}var i=function(e,t,a){var o,r=Math.max(n.scrollWidth,n.clientWidth),i=n.scrollTop,s=n.scrollLeft,c=t.pageX,u=t.pageY;if(!(o=c,"number"==typeof o)){c=t.clientX+s;u=t.clientY+i}var l,f,p=-1;if(e&&e.getBoundingClientRect){p=(f=e.getBoundingClientRect()).left+s;l=f.top+i}if(0===a||"0"===a){var g=r>>1;c-=g;p-=g}else if(2===a){c-=r;p-=r}return{x:c,y:u,ex:p,ey:l,sw:r}}(e,t,this.config.layout);r.xpath=function(e){var t,n,a,o,r,i,s=Di.getElementsByTagName("*");for(t=[];e&&1===e.nodeType;e=e.parentNode)if(e.id){i=e.id;o=0;for(n=0;n<s.length;n++)if((r=s[n]).id&&r.id===i){o++;break}e.tagName.toLowerCase&&t.unshift("".concat(e.tagName.toLowerCase(),"[@id='").concat(i,"']"));if(1===o){t.unshift("/");return t.join("/")}}else{for(n=1,a=e.previousSibling;a;a=a.previousSibling)a.tagName===e.tagName&&n++;e.tagName.toLowerCase&&t.unshift("".concat(e.tagName.toLowerCase(),"[").concat(n,"]"))}return t.length?"/".concat(t.join("/")):null}(e);r.x=i.x;r.y=i.y;r.ex=i.ex;r.ey=i.ey;r.sw=i.sw;r.ew=e.offsetWidth;r.eh=e.offsetHeight;r.t=(new Date).getTime()-P;r.n=++C;l&&d&&(r.so=encodeURIComponent(d));this.sendData(r)}},sendData:function(e,t){var n=Math.ceil(1e3*Math.random()),a=M(N());t?a.push({action:"".concat(O(),".sendPV"),arguments:[{is_auto:!0},e]}):n<1e3*m.RESOURCE_TIMING&&p&&a.push({action:"".concat(O(),".record"),arguments:["$$_hotpoint","CLK",f({is_auto:1},e),"POST"]})}};(function(){if(l)return!0;var e,t=["item.taobao.com","detail.tmall.com","s.taobao.com"],n=t.length;for(e=0;e<n;e++)if(v(i,t[e]))return!1;return!v(r,"/go/act/")&&!v(h,"atp_isdpp")})()&&(_.shouldBindMonitor=!0);var k=a.setResourceTimingBufferSize||a.webkitSetResourceTimingBufferSize;k&&k.call(a,200);Li._ap_xwj_heat={version:6};new I(_).startup()}function x(e,t){return e&&e.getAttribute&&e.getAttribute(t)||""}function R(n){var a,o,r,i=function(){e=e||Di.getElementsByTagName("head")[0];return t||(e?t=e.getElementsByTagName("meta"):[])}(),s=i.length;for(a=0;a<s;a++)if(x(o=i[a],"name")===n){r=x(o,"content");break}return r}}var ji,Bi,Vi=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){var e=M(O());if(e._aplus_plugin_xwj);else{e._aplus_plugin_xwj={status:"init"};!function(){try{Ui()}catch(e){M(N()).push({action:"".concat(O(),"._aplus_cplugin_m.do_tracker_jserror"),arguments:[{message:"headmapall",error:encodeURIComponent(e.stack),filename:"aplus_xwj_plugin"}]})}}()}}}]);return e}(),Gi=ie(Object.freeze({__proto__:null,default:Vi})),Fi=function(){function e(t){o(this,e);this.options=t}i(e,[{key:"run",value:function(){ct.on(window,"unload",(function(){try{M(N()).push({action:"".concat(O(),".record"),arguments:[Z.PAGE_LEAVE,"OTHER",{}]});"hidden"===document.visibilityState&&window.sessionStorage.removeItem(Z.START_ID)}catch(e){T().w("send browser close evnet failed")}}))}}]);return e}(),Hi=ie(Object.freeze({__proto__:null,default:Fi})),Wi="hidden",Ki="visible",zi="scroll",qi="visibilitychange",Yi="blur",Qi="unload",$i=function(){function e(t){o(this,e);this.options=t;this.scrollStartTs=Date.now();this.lastTabVisibleState=Ki}i(e,[{key:"triggerStayEvent",value:function(e){var t=e.triggerTiming,n=M(O()),a=Date.now(),o=a-this.scrollStartTs;n.record(Z.PAGE_STAY,"OTHER",{duration:o,triggerTiming:t});this.scrollStartTs=a}},{key:"handleScroll",value:function(){var e=this;Date.now()-this.scrollStartTs>=Z.PAGE_SCROLL_DURATION&&window.requestAnimationFrame((function(){e.triggerStayEvent({triggerTiming:zi})}))}},{key:"handleTabBlur",value:function(){this.triggerStayEvent({triggerTiming:Yi})}},{key:"handleTabVisibilityChange",value:function(){this.lastTabVisibleState===Ki&&document.visibilityState===Wi&&this.handleTabBlur();this.lastTabVisibleState=document.visibilityState}},{key:"addEventListeners",value:function(){ct.on(window,zi,this.handleScroll.bind(this));Wi in document?ct.on(document,qi,this.handleTabVisibilityChange.bind(this)):ct.on(window,Yi,this.handleTabBlur.bind(this))}},{key:"removeEventListeners",value:function(){ct.un(window,zi,this.handleScroll.bind(this));Wi in document?ct.un(document,qi,this.handleTabVisibilityChange.bind(this)):ct.un(window,Yi,this.handleTabBlur.bind(this))}},{key:"run",value:function(){var e=this,t=M(N()),n=M(O());t.push({action:Q.SUBSCRIBE,arguments:[Q.SDK_READY,function(t){if("complete"===t&&n&&n.getMetaInfo&&n.getMetaInfo(Z.APLUS_PAGEVIEW_DURATION_CAN_TRACK)){e.addEventListeners();ct.on(window,Qi,(function(){e.triggerStayEvent({triggerTiming:Qi});e.removeEventListeners()}))}}]})}}]);return e}(),Ji=ie(Object.freeze({__proto__:null,default:$i})),Xi={apiName:"aplus",queueName:"aplus_queue",metaInfo:{sdk_version:ge,sdkId:"qt_web_".concat(ge),"aplus-cpvdata":{},"aplus-exdata":{},"aplus-globaldata":{},"aplus-mmstat-timeout":"10000","aplus-disable-autoevent":!1,"aplus-disable-apv":!1,"aplus-device-enable":!0,"aplus-exposure-event-can-repeat":!0},globalConfig:{ETAG_STORAGE_KEY:"__ETAG__CNA__ID__",script_name:"qt_web.js",lver:ge},plugins:[{name:"aplus_session_manager",path:Pt},{name:"aplus_track_debug",path:It},{name:"aplus_body_ready",path:Ot},{name:"aplus_client",path:Mt},{name:"aplus_meta_inject",path:Gt},{name:"aplus_ac",path:Vn},{name:"aplus_ae",path:Ma},{name:"aplus_web_http_um",path:uo},{name:"pubsub",path:_o},{name:"aplus_log_inject",path:vo,deps:["aplus_meta_inject"],config:{plugins:{pv:[{name:"remote_config",path:Do},{name:"when_to_sendpv",path:jo,config:{aplusWaiting:""}},{name:"where_to_send",path:Go},{name:"what_to_send",path:Ho,config:{pvdataToUt:{}}},{name:"what_to_sendpv_userdata",path:Ko,deps:["what_to_send"]},{name:"what_to_sendpv_userdata_web",path:Ko,deps:["what_to_send","what_to_sendpv_userdata"]},{name:"what_to_sendpv_um2native",path:qo,deps:["what_to_send"]},{name:"can_to_sendpv",path:tr,config:{flag:"NO"}},{name:"after_pv",path:ar}],hjlj:[{name:"remote_config",path:Do},{name:"where_to_send",path:Go,deps:[]},{name:"what_to_send",path:Ho,deps:[]},{name:"what_to_hjlj_userdata",path:rr,deps:["what_to_send"]},{name:"what_to_hjlj_um2native",path:sr,deps:["what_to_send"]}]}}},{name:"aplus_spm_inject",path:dr},{name:"aplus_api",path:wr},{name:"aplus_fingerpint",path:Lr},{name:"meta_queue",path:qr},{name:"aplusUmBridge",path:Qr},{name:"sdk_queue",path:Xr},{name:"hot_loader",path:ei,config:{urlRules:[{rule:"aplus_webvt_messager",cdnPath:"https://o.alicdn.com/QTSDK/quicktracking-sdk/qt_webvt_messager.umd.js"}]}},{name:"aplus_apv",path:ki,deps:["aplus_log_inject","aplus_api"]},{name:"aplus_autotrack",path:Ri},{name:"aplus_heatmap",path:Gi,deps:["aplus_log_inject","aplus_api"]},{name:"aplus_pageleave",path:Hi,deps:["aplus_log_inject","aplus_api"]},{name:"qt_page_stay",path:Ji,deps:["aplus_log_inject","aplus_api"]}]};ji="QuickTracking SDK INIT SUCCESS!",re(Bi||Xi,(function(){T().v(ji||"QT SDK INIT SUCCESS!")}))},"function"==typeof define&&define.amd?define(e):e();var e;
